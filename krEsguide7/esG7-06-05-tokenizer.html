<!DOCTYPE html><html lang="en"><head><meta name="eui-styles"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-24"></script><script>
              window.dataLayer = window.dataLayer || [];
              function gtag(){dataLayer.push(arguments);}
              gtag('js', new Date());
              gtag('config', 'UA-12395217-24', {
                page_path: window.location.pathname,
              });
          </script><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><script>!function(){try{var d=document.documentElement;var e=localStorage.getItem("elastic-docs-theme");if(e){d.setAttribute('data-theme', e)}else{d.setAttribute('data-theme', 'light');}}catch(t){}}();</script><title>6.5 토크나이저 - Tokenizer | Elastic Documentation</title><meta property="og:title" content="6.5 토크나이저 - Tokenizer | Elastic Documentation"/><meta class="elastic" name="title" content="6.5 토크나이저 - Tokenizer"/><meta class="elastic" name="date" content="2022-01-25T00:00:00.000Z"/><meta name="description" content="모든 문서에 대한 저작권은 Elastic 과 김종민(kimjmin@gmail.com) 에게 있으며 허가되지 않은 무단 복제나 배포 및 출판을 금지합니다. 본 문서의 내용 및 포함된 자료를 인용하고자 하는 경우 출처를 명시하고 게재된 주소를 김종민(kimjmin@gmail.com)에게 알려주시기 바랍니다."/><meta property="og:description" content="모든 문서에 대한 저작권은 Elastic 과 김종민(kimjmin@gmail.com) 에게 있으며 허가되지 않은 무단 복제나 배포 및 출판을 금지합니다. 본 문서의 내용 및 포함된 자료를 인용하고자 하는 경우 출처를 명시하고 게재된 주소를 김종민(kimjmin@gmail.com)에게 알려주시기 바랍니다."/><meta name="twitter:site" content="@elastic"/><meta property="og:url" content="https://elastic.github.io/krEsguide7/esG7-06-05-tokenizer"/><link rel="stylesheet" type="text/css" href="/docs-kr/themes/eui_theme_undefined.min.css"/><link rel="stylesheet" type="text/css" href="/docs-kr/themes/theme_undefined.css"/><link rel="shortcut icon" href="/docs-kr/assets/images/favicon.ico"/><meta name="next-head-count" content="14"/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/docs-kr/_next/static/chunks/polyfills-a40ef1678bae11e696dba45124eadd70.js"></script><script src="/docs-kr/_next/static/chunks/webpack-cffd7af05c46bff687df.js" defer=""></script><script src="/docs-kr/_next/static/chunks/framework-bf9b12c23e794b196495.js" defer=""></script><script src="/docs-kr/_next/static/chunks/main-39366c62fdd5de5858fe.js" defer=""></script><script src="/docs-kr/_next/static/chunks/pages/_app-d9a28ac2b5165b299106.js" defer=""></script><script src="/docs-kr/_next/static/chunks/c78d26b1-ff6470003369f2a26fc7.js" defer=""></script><script src="/docs-kr/_next/static/chunks/103-fd3e1552f32e8c4a6b92.js" defer=""></script><script src="/docs-kr/_next/static/chunks/3674-41861bc71d856d154d9e.js" defer=""></script><script src="/docs-kr/_next/static/chunks/7815-952dc762df3d4a43befe.js" defer=""></script><script src="/docs-kr/_next/static/chunks/9237-e960f47bcd4625ef5949.js" defer=""></script><script src="/docs-kr/_next/static/chunks/4620-ffe6a72783393171b0cb.js" defer=""></script><script src="/docs-kr/_next/static/chunks/8482-d6a48a2948368737094e.js" defer=""></script><script src="/docs-kr/_next/static/chunks/pages/%5B...slug%5D-8f1dc78ef1e2355ed9c0.js" defer=""></script><script src="/docs-kr/_next/static/JogDT4Rcnrb0olaKm5b4J/_buildManifest.js" defer=""></script><script src="/docs-kr/_next/static/JogDT4Rcnrb0olaKm5b4J/_ssgManifest.js" defer=""></script></head><body class="guideBody"><div id="__next"><div class="docWrapper"><header data-elastic-exclude="true"><div class="euiHeader euiHeader--dark euiHeader--fixed"><div class="euiHeaderSection euiHeaderSection--dontGrow euiHeaderSection--left"><div class="euiHeaderSectionItem"><a rel="noreferrer" class="euiHeaderLogo"><svg data-type="logoElastic" xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="none" viewBox="0 0 32 32" class="euiIcon euiIcon--large euiHeaderLogo__icon" focusable="false" role="img" aria-label="Elastic"><path class="outline" fill-rule="evenodd" clip-rule="evenodd" d="M30.86 13.129A6.333 6.333 0 0132 16.77a6.419 6.419 0 01-1.162 3.652 6.382 6.382 0 01-3.032 2.331 4.833 4.833 0 01-1.672 5.542 4.789 4.789 0 01-5.77-.074 9.016 9.016 0 01-4.5 3.322 8.982 8.982 0 01-5.587.023 9.014 9.014 0 01-4.526-3.287 9.067 9.067 0 01-1.727-5.333c0-.579.053-1.156.16-1.725A6.305 6.305 0 011.145 18.9 6.341 6.341 0 010 15.242a6.42 6.42 0 011.163-3.652 6.384 6.384 0 013.035-2.33 4.833 4.833 0 011.658-5.557 4.789 4.789 0 015.78.07 9.037 9.037 0 014.93-3.446 9.007 9.007 0 015.994.419 9.05 9.05 0 014.407 4.098 9.097 9.097 0 01.873 5.965 6.298 6.298 0 013.02 2.32zm-18.28.658l7.002 3.211 7.066-6.213a7.85 7.85 0 00.152-1.557c0-1.692-.539-3.34-1.54-4.704a7.897 7.897 0 00-4.02-2.869 7.87 7.87 0 00-4.932.086 7.9 7.9 0 00-3.92 3.007l-1.174 6.118 1.367 2.92-.001.001zm-7.247 7.441A7.964 7.964 0 006.72 27.53a7.918 7.918 0 004.04 2.874 7.89 7.89 0 004.95-.097 7.92 7.92 0 003.926-3.03l1.166-6.102-1.555-2.985-7.03-3.211-6.885 6.248.001.001zm4.755-11.024l-4.8-1.137.002-.002a3.82 3.82 0 011.312-4.358 3.785 3.785 0 014.538.023l-1.052 5.474zm-5.216.01a5.294 5.294 0 00-2.595 1.882 5.324 5.324 0 00-.142 6.124 5.287 5.287 0 002.505 2l6.733-6.101-1.235-2.65-5.266-1.255zm18.286 17.848a3.737 3.737 0 01-2.285-.785l1.037-5.454 4.8 1.125a3.812 3.812 0 01-1.801 4.68c-.54.283-1.14.432-1.751.434zm-1.31-7.499l5.28 1.238a5.34 5.34 0 002.622-1.938 5.37 5.37 0 001.013-3.106 5.311 5.311 0 00-.936-3.01 5.282 5.282 0 00-2.475-1.944l-6.904 6.07 1.4 2.69z" fill="#fff"></path><path d="M12.58 13.787l7.002 3.211 7.066-6.213a7.849 7.849 0 00.152-1.557c0-1.692-.539-3.34-1.54-4.704a7.897 7.897 0 00-4.02-2.869 7.87 7.87 0 00-4.932.086 7.9 7.9 0 00-3.92 3.007l-1.174 6.118 1.367 2.92-.001.001z" fill="#FEC514"></path><path d="M5.333 21.228A7.964 7.964 0 006.72 27.53a7.918 7.918 0 004.04 2.874 7.89 7.89 0 004.95-.097 7.92 7.92 0 003.926-3.03l1.166-6.102-1.555-2.985-7.03-3.211-6.885 6.248.001.001z" fill="#00BFB3"></path><path d="M5.288 9.067l4.8 1.137L11.14 4.73a3.785 3.785 0 00-5.914 1.94 3.82 3.82 0 00.064 2.395" fill="#F04E98"></path><path d="M4.872 10.214a5.294 5.294 0 00-2.595 1.882 5.324 5.324 0 00-.142 6.124 5.287 5.287 0 002.505 2l6.733-6.101-1.235-2.65-5.266-1.255z" fill="#1BA9F5"></path><path d="M20.873 27.277a3.736 3.736 0 002.285.785 3.783 3.783 0 003.101-1.63 3.812 3.812 0 00.451-3.484l-4.8-1.125-1.037 5.454z" fill="#93C90E"></path><path d="M21.848 20.563l5.28 1.238a5.34 5.34 0 002.622-1.938 5.37 5.37 0 001.013-3.106 5.312 5.312 0 00-.936-3.01 5.283 5.283 0 00-2.475-1.944l-6.904 6.07 1.4 2.69z" fill="#07C"></path></svg><span class="euiHeaderLogo__text"><svg class="elasticMark" width="64" height="19" fill="white" xmlns="http://www.w3.org/2000/svg" aria-labelledby="elasticMark"><title id="elasticMark">Elastic</title><path d="M9.74 16.882l.711-.076.046 1.455c-1.879.257-3.485.393-4.818.393-1.773 0-3.03-.515-3.773-1.545C1.164 16.08.8 14.473.8 12.306c0-4.333 1.727-6.5 5.167-6.5 1.666 0 2.909.47 3.727 1.394.818.924 1.227 2.394 1.227 4.379l-.106 1.409H2.664c0 1.364.242 2.379.742 3.03.5.652 1.349.985 2.576.985 1.242.03 2.485-.015 3.757-.121zm-.667-5.349c0-1.515-.243-2.59-.728-3.212-.484-.621-1.272-.94-2.363-.94s-1.924.334-2.47.986c-.545.651-.833 1.712-.848 3.166h6.409zM13.497 18.427V.7h1.848v17.727h-1.848zM27.027 9.806v6.076c0 .621 1.53.742 1.53.742l-.09 1.637c-1.303 0-2.38.106-3.03-.515a10.861 10.861 0 01-4.44.924c-1.136 0-2-.319-2.59-.97-.592-.636-.895-1.56-.895-2.773 0-1.197.303-2.09.91-2.651.605-.56 1.56-.925 2.863-1.046l3.879-.363v-1.06c0-.834-.182-1.44-.546-1.804-.363-.364-.863-.545-1.485-.545H18.27V5.82h4.742c1.394 0 2.41.318 3.046.97.651.636.97 1.651.97 3.015zm-7.606 5.03c0 1.516.621 2.273 1.879 2.273a9.89 9.89 0 003.303-.56l.56-.197v-4.076l-3.65.348c-.743.06-1.274.273-1.607.637-.333.363-.485.894-.485 1.575zM34.255 7.473c-1.788 0-2.697.62-2.697 1.879 0 .575.212.984.62 1.227.41.242 1.35.485 2.819.742 1.47.258 2.5.606 3.106 1.076.606.454.91 1.318.91 2.59 0 1.274-.41 2.198-1.228 2.789-.818.59-2 .894-3.576.894-1.015 0-4.424-.38-4.424-.38l.106-1.605c1.954.182 3.379.333 4.333.333.955 0 1.682-.151 2.182-.454.5-.303.758-.819.758-1.53 0-.713-.212-1.198-.637-1.455-.424-.258-1.363-.5-2.818-.728-1.455-.227-2.485-.56-3.09-1.015-.607-.439-.91-1.272-.91-2.47 0-1.196.424-2.09 1.273-2.666.848-.576 1.909-.864 3.166-.864 1 0 4.485.258 4.485.258v1.621c-1.833-.106-3.333-.242-4.379-.242zM47.952 7.685h-3.925v5.909c0 1.409.106 2.348.303 2.788.212.44.697.666 1.47.666l2.197-.151.121 1.53c-1.106.182-1.94.273-2.515.273-1.288 0-2.167-.318-2.667-.94-.5-.62-.742-1.818-.742-3.575v-6.5h-1.758V6.079h1.758V2.29h1.833v3.773h3.925v1.62zM50.527 3.276V1.139h1.849v2.152l-1.849-.015zm0 15.151V6.08h1.849v12.348h-1.849zM60.406 5.821c.546 0 1.47.106 2.773.303l.59.076-.075 1.5c-1.318-.152-2.288-.227-2.91-.227-1.393 0-2.348.333-2.848 1-.5.666-.757 1.909-.757 3.712 0 1.803.227 3.06.697 3.773.47.712 1.44 1.06 2.924 1.06l2.91-.227.075 1.53c-1.53.227-2.682.349-3.44.349-1.924 0-3.257-.5-3.984-1.485-.728-.985-1.106-2.652-1.106-5 0-2.349.393-4 1.181-4.94.803-.939 2.122-1.424 3.97-1.424z"></path></svg></span></a></div></div><div class="euiHeaderSection euiHeaderSection--dontGrow euiHeaderSection--left"><div class="euiHeaderSectionItem"><nav class="euiHeaderLinks" aria-label="App menu"><div class="euiHeaderLinks__list euiHeaderLinks__list--gutterS"><a class="euiButton euiButton--primary euiButton--small euiButton--fill" href="https://cloud.elastic.co/registration?source=docsHeader" rel=""><span class="euiButtonContent euiButton__content"><span class="euiButton__text">Try Free</span></span></a></div></nav></div></div></div></header><div class="euiPage euiPage--grow docArticle__template"><div class="euiPageSideBar euiPageSideBar--paddingLarge euiPageSideBar--sticky docChrome__sidebar"><div class="euiFlexItem" data-elastic-exclude="true"><div class="euiContextMenu docChrome__contextMenu"><div class="euiContextMenuPanel euiContextMenu__panel" tabindex="-1"><button class="euiContextMenuPanelTitle" type="button" data-test-subj="contextMenuPanelTitleButton"><span class="euiContextMenu__itemLayout"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="euiIcon euiIcon--medium euiContextMenu__icon" focusable="false" role="img" aria-hidden="true"><path fill-rule="evenodd" clip-rule="evenodd" d="M11.018 14.043a.75.75 0 00.024-1.06l-4.59-4.81a.25.25 0 010-.346l4.59-4.81a.75.75 0 10-1.085-1.035l-4.59 4.81a1.75 1.75 0 000 2.416l4.59 4.81c.286.3.761.31 1.06.024z"></path></svg><span class="euiContextMenu__text">Elastic 가이드북 (7.x)</span></span></button><div><div class="euiSpacer euiSpacer--s css-i2qclb-euiSpacer-s"></div><nav class="euiSideNav" aria-label="Elastic 가이드북 (7.x)"><div id="euiSideNav_e6d23290-eb7c-11ec-85e6-f94e4bdec3fb_content" class="euiSideNav__content euiSideNav__contentMobile-xs euiSideNav__contentMobile-s"><div class="euiSideNavItem euiSideNavItem--root euiSideNavItem--hasChildItems"><div class="euiSideNavItemButton"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">1. 서문</span></span></div><div class="euiSideNavItem__items"><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-01-overview" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">1. 서문</span></span></a></div><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-01-01-elastic-stack" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">1.1 Elastic Stack 소개</span></span></a></div><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-01-01-01-elasticsearch" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">1.1.1 Elasticsearch</span></span></a></div><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-01-01-02-logstash" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">1.1.2 Logstash</span></span></a></div><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-01-01-03-kibana" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">1.1.3 Kibana</span></span></a></div><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-01-01-04-beats" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">1.1.4 Beats</span></span></a></div></div></div><div class="euiSideNavItem euiSideNavItem--root euiSideNavItem--hasChildItems"><div class="euiSideNavItemButton"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">2. Elasticsearch 시작하기</span></span></div><div class="euiSideNavItem__items"><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-02-overview" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">2. Elasticsearch 시작하기</span></span></a></div><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-02-01-data-indexing" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">2.1 데이터 색인</span></span></a></div><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-02-02-install-run" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">2.2 설치 및 실행</span></span></a></div><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-02-02-01-download" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">2.2.1 다운로드 설치 및 실행</span></span></a></div><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-02-02-02-unix-rpm" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">2.2.2 Unix RPM 설치 및 실행</span></span></a></div><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-02-03-es-config" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">2.3 Elasticsearch 환경 설정</span></span></a></div><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-02-03-01-jvm" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">2.3.1 jvm.options</span></span></a></div><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-02-03-02-es-yml" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">2.3.2 elasticsearch.yml</span></span></a></div><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-02-03-03-node-config" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">2.3.3 노드의 역할 : master, data, insgest</span></span></a></div><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-02-03-04-cmd" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">2.3.4 커맨드 라인 설정</span></span></a></div></div></div><div class="euiSideNavItem euiSideNavItem--root euiSideNavItem--hasChildItems"><div class="euiSideNavItemButton"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">3. Elasticsearch 시스템 구조</span></span></div><div class="euiSideNavItem__items"><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-03-overview" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">3. Elasticsearch 시스템 구조</span></span></a></div><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-03-01-cluster" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">3.1 클러스터 구성</span></span></a></div><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-03-02-index-shard" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">3.2 인덱스와 샤드 - Index &amp; Shards</span></span></a></div><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-03-03-master-data-nodes" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">3.3 마스터 노드와 데이터 노드 - Master &amp; Data Nodes</span></span></a></div></div></div><div class="euiSideNavItem euiSideNavItem--root euiSideNavItem--hasChildItems"><div class="euiSideNavItemButton"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">4. Elasticsearch 데이터 처리</span></span></div><div class="euiSideNavItem__items"><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-04-overview" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">4. Elasticsearch 데이터 처리</span></span></a></div><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-04-01-rest-api" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">4.1 REST API</span></span></a></div><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-04-02-crud" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">4.2 CRUD - 입력,조회,수정,삭제</span></span></a></div><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-04-03-bulk-api" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">4.3 벌크 - _bulk API</span></span></a></div><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-04-04-search-api" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">4.4 검색 - _search API</span></span></a></div></div></div><div class="euiSideNavItem euiSideNavItem--root euiSideNavItem--hasChildItems"><div class="euiSideNavItemButton"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">5. 검색과 쿼리 - Query DSL</span></span></div><div class="euiSideNavItem__items"><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-05-overview" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">5. 검색과 쿼리 - Query DSL</span></span></a></div><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-05-01-fulltext" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">5.1 풀텍스트 쿼리 - Full Text Query</span></span></a></div><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-05-02-bool" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">5.2 복합 쿼리 - Bool Query</span></span></a></div><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-05-03-relevancy" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">5.3 정확도 - Relevancy</span></span></a></div><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-05-04-bool-should" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">5.4 bool : sould</span></span></a></div><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-05-05-exact-value" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">5.5 정확값 쿼리 - Exact Value Query</span></span></a></div><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-05-06-range" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">5.6 범위 쿼리 - Range Query</span></span></a></div></div></div><div class="euiSideNavItem euiSideNavItem--root euiSideNavItem--hasChildItems"><div class="euiSideNavItemButton"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">6. 데이터 색인과 텍스트 분석</span></span></div><div class="euiSideNavItem__items"><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-06-overview" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">6. 데이터 색인과 텍스트 분석</span></span></a></div><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-06-01-inverted-index" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">6.1 역 인덱스 - Inverted Index</span></span></a></div><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-06-02-text-analysis" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">6.2 텍스트 분석 - Text Analysis</span></span></a></div><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-06-03-analyzer" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">6.3 애널라이저 - Analyzer</span></span></a></div><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-06-04-char-filter" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">6.4 캐릭터 필터 - Character Filter</span></span></a></div><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable euiSideNavItemButton-isSelected" href="/krEsguide7/esG7-06-05-tokenizer" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">6.5 토크나이저 - Tokenizer</span></span></a></div><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-06-06-token-filter" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">6.6 토큰 필터 - Token Filter</span></span></a></div><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-06-07-stemming" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">6.7 형태소 분석 - Stemming</span></span></a></div></div></div></div></nav></div></div></div></div></div><div class="euiPanel euiPanel--paddingLarge euiPanel--borderRadiusNone euiPanel--plain euiPanel--hasShadow euiPageBody euiPageBody--borderRadiusNone euiPageBody--paddingLarge"><div class="euiFlexGroup euiFlexGroup--gutterExtraLarge euiFlexGroup--directionRow euiFlexGroup--responsive docArticle__wrap"><div class="euiFlexItem docArticle__article"><header class="euiPageHeader euiPageHeader--bottomBorder euiPageHeader--responsive euiPageHeader--center"><div class="euiPageHeaderContent"><div class="euiFlexGroup euiFlexGroup--gutterLarge euiFlexGroup--alignItemsFlexStart euiFlexGroup--directionRow euiFlexGroup--responsive euiPageHeaderContent__top"><div class="euiFlexItem"><h1 class="euiTitle euiTitle--large">6.5 토크나이저 - Tokenizer</h1><div class="euiSpacer euiSpacer--l css-jz428s-euiSpacer-l"></div><div class="euiText euiText--medium euiText--constrainedWidth"><p><span class="euiTextColor euiTextColor--subdued">모든 문서에 대한 저작권은 Elastic 과 김종민(kimjmin@gmail.com) 에게 있으며 허가되지 않은 무단 복제나 배포 및 출판을 금지합니다. 본 문서의 내용 및 포함된 자료를 인용하고자 하는 경우 출처를 명시하고 게재된 주소를 김종민(kimjmin@gmail.com)에게 알려주시기 바랍니다.</span></p></div></div></div></div></header><div class="euiSpacer euiSpacer--xl css-kiiy9t-euiSpacer-xl"></div><div class="euiPanel euiPanel--borderRadiusMedium euiPanel--plain euiPanel--noShadow euiPageContent" role="main"><div class="euiPageContentBody"><div class="euiText euiText--medium"><p>데이터 색인 과정에서 검색 기능에 가장 큰 영향을 미치는 단계가 토크나이저 입니다. 데이터 분석 과정에서 토크나이저는 반드시 <strong>한 개</strong>만 사용이 가능하며 <code class="euiCode" data-code-language="text">tokenizer</code> 항목에 단일값으로 설정합니다. 이 책에서는 자주 사용되고 유용한 토크나이저들 위주로 설명하겠습니다.</p>
<p>토크나이저들 중 <strong>NGram</strong>, <strong>Lowercase</strong> 같은 토크나이저들은 대부분은 Standard 토크나이저에 같은 이름의 토큰 필터를 내장한 들입니다. 이 책에서 다루지 않는 토크나이저들은 공식 홈페이지의 도큐먼트를 확인하시기 바랍니다.</p>
<h2 id="651-standard-letter-whitespace" style="position:relative"><a class="euiLink euiLink--primary docArticle__headerLink" href="#651-standard-letter-whitespace" rel="noreferrer" aria-label="6.5.1 Standard, Letter, Whitespace permalink"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" class="euiIcon euiIcon--medium euiIcon-isLoading" focusable="false" role="img" aria-hidden="true"></svg></a>6.5.1 Standard, Letter, Whitespace</h2>
<p>일반적으로 가장 많이 사용되고 기능이 유사하지만 분명히 다른 특징이 있는 <strong>Standard</strong>, <strong>Letter</strong>, <strong>Whitespace</strong> 3가지 토크나이저를 먼저 살펴보도록 하겠습니다. 각자 따로 설명하는 것 보다 동일한 문장이 위의 세 토큰 필터에서 어떻게 다르게 분리가 되는지를 살펴보면서 설명을 하겠습니다. 분석할 문장은 <strong>&quot;THE quick.brown_FOx jumped! @ 3.5 meters.&quot;</strong> 입니다.</p>
<div class="euiTabs euiTabs--small euiTabs--bottomBorder" role="tablist"><button role="tab" aria-selected="true" type="button" class="euiTab euiTab-isSelected" name="request"><span class="euiTab__content">request</span></button><button role="tab" aria-selected="false" type="button" class="euiTab" name="response"><span class="euiTab__content">response</span></button></div><div class="euiSpacer euiSpacer--l css-jz428s-euiSpacer-l"></div><div><div class="language-javascript euiCodeBlock euiCodeBlock--fontSmall euiCodeBlock--paddingSmall"><pre class="euiCodeBlock__pre euiCodeBlock__pre--whiteSpacePre" tabindex="-1"><code class="euiCodeBlock__code" data-code-language="javascript"><span class="euiCodeBlock__line"># standard 토크나이저로 문장 분석
</span><span class="euiCodeBlock__line"><span class="token constant">GET</span> _analyze
</span><span class="euiCodeBlock__line"><span class="token punctuation">{</span>
</span><span class="euiCodeBlock__line">  <span class="token string">&quot;tokenizer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;standard&quot;</span><span class="token punctuation">,</span>
</span><span class="euiCodeBlock__line">  <span class="token string">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;THE quick.brown_FOx jumped! @ 3.5 meters.&quot;</span>
</span><span class="euiCodeBlock__line"><span class="token punctuation">}</span>
</span><span class="euiCodeBlock__line"></span></code></pre></div></div>
<div class="euiTabs euiTabs--small euiTabs--bottomBorder" role="tablist"><button role="tab" aria-selected="true" type="button" class="euiTab euiTab-isSelected" name="request"><span class="euiTab__content">request</span></button><button role="tab" aria-selected="false" type="button" class="euiTab" name="response"><span class="euiTab__content">response</span></button></div><div class="euiSpacer euiSpacer--l css-jz428s-euiSpacer-l"></div><div><div class="language-javascript euiCodeBlock euiCodeBlock--fontSmall euiCodeBlock--paddingSmall"><pre class="euiCodeBlock__pre euiCodeBlock__pre--whiteSpacePre" tabindex="-1"><code class="euiCodeBlock__code" data-code-language="javascript"><span class="euiCodeBlock__line"># letter 토크나이저로 문장 분석
</span><span class="euiCodeBlock__line"><span class="token constant">GET</span> _analyze
</span><span class="euiCodeBlock__line"><span class="token punctuation">{</span>
</span><span class="euiCodeBlock__line">  <span class="token string">&quot;tokenizer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;letter&quot;</span><span class="token punctuation">,</span>
</span><span class="euiCodeBlock__line">  <span class="token string">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;THE quick.brown_FOx jumped! @ 3.5 meters.&quot;</span>
</span><span class="euiCodeBlock__line"><span class="token punctuation">}</span>
</span><span class="euiCodeBlock__line"></span></code></pre></div></div>
<div class="euiTabs euiTabs--small euiTabs--bottomBorder" role="tablist"><button role="tab" aria-selected="true" type="button" class="euiTab euiTab-isSelected" name="request"><span class="euiTab__content">request</span></button><button role="tab" aria-selected="false" type="button" class="euiTab" name="response"><span class="euiTab__content">response</span></button></div><div class="euiSpacer euiSpacer--l css-jz428s-euiSpacer-l"></div><div><div class="language-javascript euiCodeBlock euiCodeBlock--fontSmall euiCodeBlock--paddingSmall"><pre class="euiCodeBlock__pre euiCodeBlock__pre--whiteSpacePre" tabindex="-1"><code class="euiCodeBlock__code" data-code-language="javascript"><span class="euiCodeBlock__line"># whitespace 토크나이저로 문장 분석
</span><span class="euiCodeBlock__line"><span class="token constant">GET</span> _analyze
</span><span class="euiCodeBlock__line"><span class="token punctuation">{</span>
</span><span class="euiCodeBlock__line">  <span class="token string">&quot;tokenizer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;whitespace&quot;</span><span class="token punctuation">,</span>
</span><span class="euiCodeBlock__line">  <span class="token string">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;THE quick.brown_FOx jumped! @ 3.5 meters.&quot;</span>
</span><span class="euiCodeBlock__line"><span class="token punctuation">}</span>
</span><span class="euiCodeBlock__line"></span></code></pre></div></div>
<p>앞 예제들의 response 탭을 열어 각각의 결과를 확인 해 보면 다음과 같습니다.</p>
<p>먼저 <strong>Standard</strong> 토크나이저는 공백으로 텀을 구분하면서 &quot;@&quot;과 같은 일부 특수문자를 제거합니다. &quot;jumped!&quot;의 느낌표, &quot;meters.&quot;의 마침표 처럼 단어 끝에 있는 특수문자는 제거되지만 &quot;quick.brown_FOx&quot; 또는 &quot;3.5&quot; 처럼 중간에 있는 마침표나 밑줄 등은 제거되거나 분리되지 않는 것을 확인할 수 있습니다.</p>
<p><strong>Letter</strong> 토크나이저는 알파벳을 제외한 모든 공백, 숫자, 기호들을 기준으로 텀을 분리합니다. &quot;quick.brown_FOx&quot; 같은 단어도 &quot;quick&quot;, &quot;brown&quot;, &quot;FOx&quot; 처럼 모두 분리된 것을 확인할 수 있습니다.</p>
<p><strong>Whitespace</strong> 토크나이저는 스페이스, 탭, 그리고 줄바꿈 같은 공백만을 기준으로 텀을 분리합니다. 특수문자 &quot;@&quot; 그리고 &quot;meters.&quot; 의 마지막에 있는 마침표도 사라지지 않고 그대로 남아있는 것을 확인할 수 있습니다.</p>
<p>3개의 토크나이저 중에 <strong>Letter</strong> 토크나이저의 경우 검색 범위가 넓어져서 원하지 않는 결과가 많이 나올 수 있고, 반대로 <strong>Whitespace</strong>의 경우 특수문자를 거르지 않기 때문에 정확하게 검색을 하지 않으면 검색 결과가 나오지 않을 수 있습니다. 따라서 보통은 <strong>Standard</strong> 토크나이저를 많이 사용합니다.</p>
<h2 id="652-uax-url-email" style="position:relative"><a class="euiLink euiLink--primary docArticle__headerLink" href="#652-uax-url-email" rel="noreferrer" aria-label="6.5.2 UAX URL Email permalink"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" class="euiIcon euiIcon--medium euiIcon-isLoading" focusable="false" role="img" aria-hidden="true"></svg></a>6.5.2 UAX URL Email</h2>
<p>주로 사용되는 Standard 토크나이저도 <code class="euiCode" data-code-language="text">@</code>, <code class="euiCode" data-code-language="text">/</code> 같은 특수문자는 공백과 마찬가지로 제거하고 분리합니다. 그런데 요즘의 블로그 포스트나 신문기사 같은 텍스트 들에는 이메일 주소 또는 웹 URL 경로 등이 삽입되어 있는 경우가 상당히 많습니다. 이 경우 Standard 토크나이저를 사용하면 이메일 주소등이 정상적으로 인식되지 않아 문제가 될 수 있는데, 이를 방지하기 위해 사용 가능한 것이 <strong>UAX URL Email</strong> 토크나이저 입니다.</p>
<p><strong>UAX URL Email</strong> 토크나이저는 이메일 주소와 웹 URL 경로는 분리하지 않고 그대로 하나의 텀으로 저장을 합니다. 다음은 <strong>&quot;email address is <a class="euiLink euiLink--primary" href="mailto:my-name@email.com" rel="noreferrer">my-name@email.com<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" class="euiIcon euiIcon--small euiIcon-isLoading euiLink__externalIcon" focusable="false" role="img" aria-label="External link" aria-hidden="true"></svg></a> and website is <a class="euiLink euiLink--primary" href="https://www.elastic.co" rel="">https://www.elastic.co<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" class="euiIcon euiIcon--small euiIcon-isLoading euiLink__externalIcon" focusable="false" role="img" aria-label="External link" aria-hidden="true"></svg></a>&quot;</strong> 문장을 각각 Standard 그리고 UAX URL Email 토크나이저로 분리 한 결과입니다.</p>
<div class="euiTabs euiTabs--small euiTabs--bottomBorder" role="tablist"><button role="tab" aria-selected="true" type="button" class="euiTab euiTab-isSelected" name="request"><span class="euiTab__content">request</span></button><button role="tab" aria-selected="false" type="button" class="euiTab" name="response"><span class="euiTab__content">response</span></button></div><div class="euiSpacer euiSpacer--l css-jz428s-euiSpacer-l"></div><div><div class="language-javascript euiCodeBlock euiCodeBlock--fontSmall euiCodeBlock--paddingSmall"><pre class="euiCodeBlock__pre euiCodeBlock__pre--whiteSpacePre" tabindex="-1"><code class="euiCodeBlock__code" data-code-language="javascript"><span class="euiCodeBlock__line"># standard 토크나이저로 문장 분석
</span><span class="euiCodeBlock__line"><span class="token constant">GET</span> _analyze
</span><span class="euiCodeBlock__line"><span class="token punctuation">{</span>
</span><span class="euiCodeBlock__line">  <span class="token string">&quot;tokenizer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;standard&quot;</span><span class="token punctuation">,</span>
</span><span class="euiCodeBlock__line">  <span class="token string">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;email address is my-name@email.com and website is https://www.elastic.co&quot;</span>
</span><span class="euiCodeBlock__line"><span class="token punctuation">}</span>
</span><span class="euiCodeBlock__line"></span></code></pre></div></div>
<div class="euiTabs euiTabs--small euiTabs--bottomBorder" role="tablist"><button role="tab" aria-selected="true" type="button" class="euiTab euiTab-isSelected" name="request"><span class="euiTab__content">request</span></button><button role="tab" aria-selected="false" type="button" class="euiTab" name="response"><span class="euiTab__content">response</span></button></div><div class="euiSpacer euiSpacer--l css-jz428s-euiSpacer-l"></div><div><div class="language-javascript euiCodeBlock euiCodeBlock--fontSmall euiCodeBlock--paddingSmall"><pre class="euiCodeBlock__pre euiCodeBlock__pre--whiteSpacePre" tabindex="-1"><code class="euiCodeBlock__code" data-code-language="javascript"><span class="euiCodeBlock__line"># uax_url_email 토크나이저로 문장 분석
</span><span class="euiCodeBlock__line"><span class="token constant">GET</span> _analyze
</span><span class="euiCodeBlock__line"><span class="token punctuation">{</span>
</span><span class="euiCodeBlock__line">  <span class="token string">&quot;tokenizer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;uax_url_email&quot;</span><span class="token punctuation">,</span>
</span><span class="euiCodeBlock__line">  <span class="token string">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;email address is my-name@email.com and website is https://www.elastic.co&quot;</span>
</span><span class="euiCodeBlock__line"><span class="token punctuation">}</span>
</span><span class="euiCodeBlock__line"></span></code></pre></div></div>
<p><code class="euiCode" data-code-language="text">&quot;tokenizer&quot;: &quot;uax_url_email&quot;</code> 로 설정하여 텍스트를 분석하면 이메일 주소와 웹 URL은 그대로 남아있는 것을 확인할 수 있습니다.</p>
<h2 id="653-pattern" style="position:relative"><a class="euiLink euiLink--primary docArticle__headerLink" href="#653-pattern" rel="noreferrer" aria-label="6.5.3 Pattern permalink"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" class="euiIcon euiIcon--medium euiIcon-isLoading" focusable="false" role="img" aria-hidden="true"></svg></a>6.5.3 Pattern</h2>
<p>앞에서 살펴본 토크나이저들은 다소 차이는 있지만 기본적으로는 공백을 기준으로 하여 텀 들을 분리합니다. 분석 할 데이터가 사람이 읽는 일반적인 문장이 아니라 서버 시스템이나 IoT 장비 등에서 수집된 머신 데이터인 경우 공백이 아닌 쉼표나 세로선 같은 기호가 값 항목의 구분자로 사용되는 경우가 종종 있습니다. 이런 특수한 문자를 구분자로 사용하여 텀을 분리하고 싶은 경우 사용할 수 있는 것이 <strong>Pattern</strong> 토크나이저 입니다.</p>
<p><strong>Pattern</strong> 토크나이저는 분리할 패턴을 기호 또는 Java 정규식 형태로 지정할 수 있습니다. 구분자 지정은 <code class="euiCode" data-code-language="text">pattern</code> 항목에 설정합니다. 다음은 인덱스 <strong>pat_tokenizer</strong>에 슬래시 <code class="euiCode" data-code-language="text">/</code>를 구분자로 하는 <strong>my_pat_tokenizer</strong>라는 사용자 정의 토크나이저를 만들고 <strong>&quot;/usr/share/elasticsearch/bin&quot;</strong> 를 분석하는 예제입니다.</p>
<div><div class="language-javascript euiCodeBlock euiCodeBlock--fontSmall euiCodeBlock--paddingSmall"><pre class="euiCodeBlock__pre euiCodeBlock__pre--whiteSpacePre" tabindex="-1"><code class="euiCodeBlock__code" data-code-language="javascript"><span class="euiCodeBlock__line"># pat_tokenizer 인덱스에 my_pat_tokenizer 토크나이저 생성
</span><span class="euiCodeBlock__line"><span class="token constant">PUT</span> pat_tokenizer
</span><span class="euiCodeBlock__line"><span class="token punctuation">{</span>
</span><span class="euiCodeBlock__line">  <span class="token string">&quot;settings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="euiCodeBlock__line">    <span class="token string">&quot;analysis&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="euiCodeBlock__line">      <span class="token string">&quot;tokenizer&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="euiCodeBlock__line">        <span class="token string">&quot;my_pat_tokenizer&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="euiCodeBlock__line">          <span class="token string">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;pattern&quot;</span><span class="token punctuation">,</span>
</span><span class="euiCodeBlock__line">          <span class="token string">&quot;pattern&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/&quot;</span>
</span><span class="euiCodeBlock__line">        <span class="token punctuation">}</span>
</span><span class="euiCodeBlock__line">      <span class="token punctuation">}</span>
</span><span class="euiCodeBlock__line">    <span class="token punctuation">}</span>
</span><span class="euiCodeBlock__line">  <span class="token punctuation">}</span>
</span><span class="euiCodeBlock__line"><span class="token punctuation">}</span>
</span><span class="euiCodeBlock__line"></span></code></pre></div></div>
<div class="euiTabs euiTabs--small euiTabs--bottomBorder" role="tablist"><button role="tab" aria-selected="true" type="button" class="euiTab euiTab-isSelected" name="request"><span class="euiTab__content">request</span></button><button role="tab" aria-selected="false" type="button" class="euiTab" name="response"><span class="euiTab__content">response</span></button></div><div class="euiSpacer euiSpacer--l css-jz428s-euiSpacer-l"></div><div><div class="language-javascript euiCodeBlock euiCodeBlock--fontSmall euiCodeBlock--paddingSmall"><pre class="euiCodeBlock__pre euiCodeBlock__pre--whiteSpacePre" tabindex="-1"><code class="euiCodeBlock__code" data-code-language="javascript"><span class="euiCodeBlock__line"># my_pat_tokenizer 토크나이저로 문장 분석
</span><span class="euiCodeBlock__line"><span class="token constant">GET</span> pat_tokenizer<span class="token operator">/</span>_analyze
</span><span class="euiCodeBlock__line"><span class="token punctuation">{</span>
</span><span class="euiCodeBlock__line">  <span class="token string">&quot;tokenizer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;my_pat_tokenizer&quot;</span><span class="token punctuation">,</span>
</span><span class="euiCodeBlock__line">  <span class="token string">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/usr/share/elasticsearch/bin&quot;</span>
</span><span class="euiCodeBlock__line"><span class="token punctuation">}</span>
</span><span class="euiCodeBlock__line"></span></code></pre></div></div>
<p><code class="euiCode" data-code-language="text">&quot;pattern&quot;: &quot;/&quot;</code> 같은 단일 기호 외에도 알파벳 대문자를 기준으로 텀을 분리하도록 하는 <code class="euiCode" data-code-language="text">&quot;pattern&quot;: &quot;(?&lt;=\\p{Lower})(?=\\p{Upper})&quot;</code> 와 같은 정규식(Regular Expression) 으로도 설정이 가능합니다.</p>
<h2 id="654-path-hierarchy" style="position:relative"><a class="euiLink euiLink--primary docArticle__headerLink" href="#654-path-hierarchy" rel="noreferrer" aria-label="6.5.4 Path Hierarchy permalink"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" class="euiIcon euiIcon--medium euiIcon-isLoading" focusable="false" role="img" aria-hidden="true"></svg></a>6.5.4 Path Hierarchy</h2>
<p>디렉토리나 파일 경로 등은 흔하게 저장되는 데이터입니다. 앞의 Pattern 토크나이저에서 <strong>&quot;/usr/share/elasticsearch/bin&quot;</strong> 를 실행했을 때는 디렉토리명 들이 각각 하나의 토큰으로 분리 된 것을 확인했습니다. 이 경우 다른 패스에 있는데 하위 디렉토리 명이 같은 경우 데이터 검색에 혼동이 올 수 있습니다.</p>
<p><strong>Path Hierarchy</strong> 토크나이저를 사용하면 경로 데이터를 계층별로 저장해서 하위 디렉토리에 속한 도큐먼트들을 수준별로 검색하거나 집계하는 것이 가능합니다. 다음은 Path Hierarchy 토크나이저로 <strong>&quot;/usr/share/elasticsearch/bin&quot;</strong> 를 분석하는 예제입니다.</p>
<div class="euiTabs euiTabs--small euiTabs--bottomBorder" role="tablist"><button role="tab" aria-selected="true" type="button" class="euiTab euiTab-isSelected" name="request"><span class="euiTab__content">request</span></button><button role="tab" aria-selected="false" type="button" class="euiTab" name="response"><span class="euiTab__content">response</span></button></div><div class="euiSpacer euiSpacer--l css-jz428s-euiSpacer-l"></div><div><div class="language-javascript euiCodeBlock euiCodeBlock--fontSmall euiCodeBlock--paddingSmall"><pre class="euiCodeBlock__pre euiCodeBlock__pre--whiteSpacePre" tabindex="-1"><code class="euiCodeBlock__code" data-code-language="javascript"><span class="euiCodeBlock__line"># path_hierarchy 토크나이저로 문장 분석
</span><span class="euiCodeBlock__line"><span class="token constant">POST</span> _analyze
</span><span class="euiCodeBlock__line"><span class="token punctuation">{</span>
</span><span class="euiCodeBlock__line">  <span class="token string">&quot;tokenizer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;path_hierarchy&quot;</span><span class="token punctuation">,</span>
</span><span class="euiCodeBlock__line">  <span class="token string">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/usr/share/elasticsearch/bin&quot;</span>
</span><span class="euiCodeBlock__line"><span class="token punctuation">}</span>
</span><span class="euiCodeBlock__line"></span></code></pre></div></div>
<p><code class="euiCode" data-code-language="text">delimiter</code> 항목값으로 경로 구분자를 지정할 수 있습니다. 디폴트는 <code class="euiCode" data-code-language="text">/</code> 입니다. 그리고 <code class="euiCode" data-code-language="text">replacement</code> 옵션을 이용해서 소스의 구분자를 다른 구분자로 대치해서 저장하는 것도 가능합니다. 그 외의 옵션들은 <a class="euiLink euiLink--primary" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-pathhierarchy-tokenizer.html" rel="">공식 도큐먼트<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" class="euiIcon euiIcon--small euiIcon-isLoading euiLink__externalIcon" focusable="false" role="img" aria-label="External link" aria-hidden="true"></svg></a>를 참고하시기 바랍니다.</p>
<p>다음은 인덱스 <strong>hir_tokenizer</strong>에 <code class="euiCode" data-code-language="text">-</code> 구분자를 <code class="euiCode" data-code-language="text">/</code> 구분자로 대치하는 <strong>my_hir_tokenizer</strong>라는 사용자 정의 토크나이저를 만들고 <strong>&quot;one-two-three&quot;</strong> 문장을 분석하는 예제입니다.</p>
<div><div class="language-javascript euiCodeBlock euiCodeBlock--fontSmall euiCodeBlock--paddingSmall"><pre class="euiCodeBlock__pre euiCodeBlock__pre--whiteSpacePre" tabindex="-1"><code class="euiCodeBlock__code" data-code-language="javascript"><span class="euiCodeBlock__line"># hir_tokenizer 인덱스에 my_hir_tokenizer 토크나이저 생성
</span><span class="euiCodeBlock__line"><span class="token constant">PUT</span> hir_tokenizer
</span><span class="euiCodeBlock__line"><span class="token punctuation">{</span>
</span><span class="euiCodeBlock__line">  <span class="token string">&quot;settings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="euiCodeBlock__line">    <span class="token string">&quot;analysis&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="euiCodeBlock__line">      <span class="token string">&quot;tokenizer&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="euiCodeBlock__line">        <span class="token string">&quot;my_hir_tokenizer&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="euiCodeBlock__line">          <span class="token string">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;path_hierarchy&quot;</span><span class="token punctuation">,</span>
</span><span class="euiCodeBlock__line">          <span class="token string">&quot;delimiter&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-&quot;</span><span class="token punctuation">,</span>
</span><span class="euiCodeBlock__line">          <span class="token string">&quot;replacement&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/&quot;</span>
</span><span class="euiCodeBlock__line">        <span class="token punctuation">}</span>
</span><span class="euiCodeBlock__line">      <span class="token punctuation">}</span>
</span><span class="euiCodeBlock__line">    <span class="token punctuation">}</span>
</span><span class="euiCodeBlock__line">  <span class="token punctuation">}</span>
</span><span class="euiCodeBlock__line"><span class="token punctuation">}</span>
</span><span class="euiCodeBlock__line"></span></code></pre></div></div>
<div class="euiTabs euiTabs--small euiTabs--bottomBorder" role="tablist"><button role="tab" aria-selected="true" type="button" class="euiTab euiTab-isSelected" name="request"><span class="euiTab__content">request</span></button><button role="tab" aria-selected="false" type="button" class="euiTab" name="response"><span class="euiTab__content">response</span></button></div><div class="euiSpacer euiSpacer--l css-jz428s-euiSpacer-l"></div><div><div class="language-javascript euiCodeBlock euiCodeBlock--fontSmall euiCodeBlock--paddingSmall"><pre class="euiCodeBlock__pre euiCodeBlock__pre--whiteSpacePre" tabindex="-1"><code class="euiCodeBlock__code" data-code-language="javascript"><span class="euiCodeBlock__line"># hir_tokenizer 토크나이저로 문장 분석
</span><span class="euiCodeBlock__line"><span class="token constant">GET</span> hir_tokenizer<span class="token operator">/</span>_analyze
</span><span class="euiCodeBlock__line"><span class="token punctuation">{</span>
</span><span class="euiCodeBlock__line">  <span class="token string">&quot;tokenizer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;my_hir_tokenizer&quot;</span><span class="token punctuation">,</span>
</span><span class="euiCodeBlock__line">  <span class="token string">&quot;text&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
</span><span class="euiCodeBlock__line">    <span class="token string">&quot;one-two-three&quot;</span>
</span><span class="euiCodeBlock__line">  <span class="token punctuation">]</span>
</span><span class="euiCodeBlock__line"><span class="token punctuation">}</span>
</span><span class="euiCodeBlock__line"></span></code></pre></div></div></div><div class="euiSpacer euiSpacer--l css-jz428s-euiSpacer-l"></div><div class="euiText euiText--small"><div class="euiTextColor euiTextColor--subdued">Last updated: Jan 25th, 2022</div></div></div></div></div></div></div></div><footer class="docChromeFooter" data-elastic-exclude="true"><div class="euiFlexGroup euiFlexGroup--justifyContentSpaceAround euiFlexGroup--directionRow euiFlexGroup--responsive"><div class="euiFlexItem euiFlexItem--flexGrowZero docChromeFooter__container"><div class="euiFlexGroup euiFlexGroup--gutterExtraLarge euiFlexGroup--justifyContentSpaceBetween euiFlexGroup--directionRow euiFlexGroup--responsive"><div class="euiFlexItem"><div class="euiText euiText--small"><div class="euiTextColor euiTextColor--ghost"><p>Elasticsearch is a trademark of Elasticsearch B.V., registered in the U.S. and in other countries.</p><p>Apache, Apache Lucene, Apache Hadoop, Hadoop, HDFS and the yellow elephant logo are trademarks of the Apache Software Foundation in the United States and/or other countries.</p><p> <a class="euiLink euiLink--ghost" href="https://www.elastic.co/legal/trademarks" rel="">Trademarks</a><span class="docChromeFooter__divide">|</span><a class="euiLink euiLink--ghost" href="https://www.elastic.co/legal/terms-of-use" rel="">Terms of Use</a><span class="docChromeFooter__divide">|</span><a class="euiLink euiLink--ghost" href="https://www.elastic.co/legal/privacy-statement" rel="">Privacy</a><span class="docChromeFooter__divide">|</span>© <!-- -->2022<!-- --> Elasticsearch B.V. All Rights Reserved</p></div></div></div><div class="euiFlexItem euiFlexItem--flexGrowZero"></div><div class="euiFlexItem euiFlexItem--flexGrowZero"><figure class="euiImage docChromeFooter__logo"><img style="max-width:xs;max-height:xs;width:auto" src="/docs-kr/assets/images/logo-elastic-vertical-reverse.svg" class="euiImage__img" alt="Elastic logo"/></figure></div></div></div></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"bundle":"!function(e,n){\"object\"==typeof exports\u0026\u0026\"object\"==typeof module?module.exports=n(require(\"mdxJsReact\"),require(\"React\")):\"function\"==typeof define\u0026\u0026define.amd?define([\"mdxJsReact\",\"React\"],n):\"object\"==typeof exports?exports.MDXContent=n(require(\"mdxJsReact\"),require(\"React\")):e.MDXContent=n(e.mdxJsReact,e.React)}(this,((e,n)=\u003e(()=\u003e{\"use strict\";var t={24:e=\u003e{e.exports=n},825:n=\u003e{n.exports=e}},a={};function r(e){var n=a[e];if(void 0!==n)return n.exports;var o=a[e]={exports:{}};return t[e](o,o.exports,r),o.exports}r.n=e=\u003e{var n=e\u0026\u0026e.__esModule?()=\u003ee.default:()=\u003ee;return r.d(n,{a:n}),n},r.d=(e,n)=\u003e{for(var t in n)r.o(n,t)\u0026\u0026!r.o(e,t)\u0026\u0026Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},r.o=(e,n)=\u003eObject.prototype.hasOwnProperty.call(e,n),r.r=e=\u003e{\"undefined\"!=typeof Symbol\u0026\u0026Symbol.toStringTag\u0026\u0026Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})};var o={};return(()=\u003e{r.r(o),r.d(o,{default:()=\u003ea});var e=r(825),n=r(24),t=r.n(n);const a=function(){var n=arguments.length\u003e0\u0026\u0026void 0!==arguments[0]?arguments[0]:{},a=Object.assign({},(0,e.useMDXComponents)(),n.components),r=a.wrapper;return r?t().createElement(r,n,t().createElement(o)):o();function o(){var a=Object.assign({p:\"p\",strong:\"strong\",code:\"code\",h2:\"h2\",pre:\"pre\",a:\"a\"},(0,e.useMDXComponents)(),n.components),r=a.DocTabs,o=a.DocTab;return o||s(\"DocTab\",!0),r||s(\"DocTabs\",!0),t().createElement(t().Fragment,null,t().createElement(a.p,null,\"데이터 색인 과정에서 검색 기능에 가장 큰 영향을 미치는 단계가 토크나이저 입니다. 데이터 분석 과정에서 토크나이저는 반드시 \",t().createElement(a.strong,null,\"한 개\"),\"만 사용이 가능하며 \",t().createElement(a.code,{display:\"inline\"},\"tokenizer\"),\" 항목에 단일값으로 설정합니다. 이 책에서는 자주 사용되고 유용한 토크나이저들 위주로 설명하겠습니다.\"),\"\\n\",t().createElement(a.p,null,\"토크나이저들 중 \",t().createElement(a.strong,null,\"NGram\"),\", \",t().createElement(a.strong,null,\"Lowercase\"),\" 같은 토크나이저들은 대부분은 Standard 토크나이저에 같은 이름의 토큰 필터를 내장한 들입니다. 이 책에서 다루지 않는 토크나이저들은 공식 홈페이지의 도큐먼트를 확인하시기 바랍니다.\"),\"\\n\",t().createElement(a.h2,{id:\"651-standard-letter-whitespace\"},\"6.5.1 Standard, Letter, Whitespace\"),\"\\n\",t().createElement(a.p,null,\"일반적으로 가장 많이 사용되고 기능이 유사하지만 분명히 다른 특징이 있는 \",t().createElement(a.strong,null,\"Standard\"),\", \",t().createElement(a.strong,null,\"Letter\"),\", \",t().createElement(a.strong,null,\"Whitespace\"),\" 3가지 토크나이저를 먼저 살펴보도록 하겠습니다. 각자 따로 설명하는 것 보다 동일한 문장이 위의 세 토큰 필터에서 어떻게 다르게 분리가 되는지를 살펴보면서 설명을 하겠습니다. 분석할 문장은 \",t().createElement(a.strong,null,'\"THE quick.brown_FOx jumped! @ 3.5 meters.\"'),\" 입니다.\"),\"\\n\",t().createElement(r,null,t().createElement(o,{name:\"request\"},t().createElement(a.pre,null,t().createElement(a.code,{className:\"language-javascript\",display:\"block\"},'# standard 토크나이저로 문장 분석\\nGET _analyze\\n{\\n  \"tokenizer\": \"standard\",\\n  \"text\": \"THE quick.brown_FOx jumped! @ 3.5 meters.\"\\n}\\n'))),t().createElement(o,{name:\"response\"},t().createElement(a.pre,null,t().createElement(a.code,{className:\"language-javascript\",display:\"block\"},'# standard 토크나이저로 문장 분석 결과\\n{\\n  \"tokens\" : [\\n    {\\n      \"token\" : \"THE\",\\n      \"start_offset\" : 0,\\n      \"end_offset\" : 3,\\n      \"type\" : \"\u003cALPHANUM\u003e\",\\n      \"position\" : 0\\n    },\\n    {\\n      \"token\" : \"quick.brown_FOx\",\\n      \"start_offset\" : 4,\\n      \"end_offset\" : 19,\\n      \"type\" : \"\u003cALPHANUM\u003e\",\\n      \"position\" : 1\\n    },\\n    {\\n      \"token\" : \"jumped\",\\n      \"start_offset\" : 20,\\n      \"end_offset\" : 26,\\n      \"type\" : \"\u003cALPHANUM\u003e\",\\n      \"position\" : 2\\n    },\\n    {\\n      \"token\" : \"3.5\",\\n      \"start_offset\" : 30,\\n      \"end_offset\" : 33,\\n      \"type\" : \"\u003cNUM\u003e\",\\n      \"position\" : 3\\n    },\\n    {\\n      \"token\" : \"meters\",\\n      \"start_offset\" : 34,\\n      \"end_offset\" : 40,\\n      \"type\" : \"\u003cALPHANUM\u003e\",\\n      \"position\" : 4\\n    }\\n  ]\\n}\\n')))),\"\\n\",t().createElement(r,null,t().createElement(o,{name:\"request\"},t().createElement(a.pre,null,t().createElement(a.code,{className:\"language-javascript\",display:\"block\"},'# letter 토크나이저로 문장 분석\\nGET _analyze\\n{\\n  \"tokenizer\": \"letter\",\\n  \"text\": \"THE quick.brown_FOx jumped! @ 3.5 meters.\"\\n}\\n'))),t().createElement(o,{name:\"response\"},t().createElement(a.pre,null,t().createElement(a.code,{className:\"language-javascript\",display:\"block\"},'# letter 토크나이저로 문장 분석 결과\\n{\\n  \"tokens\" : [\\n    {\\n      \"token\" : \"THE\",\\n      \"start_offset\" : 0,\\n      \"end_offset\" : 3,\\n      \"type\" : \"word\",\\n      \"position\" : 0\\n    },\\n    {\\n      \"token\" : \"quick\",\\n      \"start_offset\" : 4,\\n      \"end_offset\" : 9,\\n      \"type\" : \"word\",\\n      \"position\" : 1\\n    },\\n    {\\n      \"token\" : \"brown\",\\n      \"start_offset\" : 10,\\n      \"end_offset\" : 15,\\n      \"type\" : \"word\",\\n      \"position\" : 2\\n    },\\n    {\\n      \"token\" : \"FOx\",\\n      \"start_offset\" : 16,\\n      \"end_offset\" : 19,\\n      \"type\" : \"word\",\\n      \"position\" : 3\\n    },\\n    {\\n      \"token\" : \"jumped\",\\n      \"start_offset\" : 20,\\n      \"end_offset\" : 26,\\n      \"type\" : \"word\",\\n      \"position\" : 4\\n    },\\n    {\\n      \"token\" : \"meters\",\\n      \"start_offset\" : 34,\\n      \"end_offset\" : 40,\\n      \"type\" : \"word\",\\n      \"position\" : 5\\n    }\\n  ]\\n}\\n')))),\"\\n\",t().createElement(r,null,t().createElement(o,{name:\"request\"},t().createElement(a.pre,null,t().createElement(a.code,{className:\"language-javascript\",display:\"block\"},'# whitespace 토크나이저로 문장 분석\\nGET _analyze\\n{\\n  \"tokenizer\": \"whitespace\",\\n  \"text\": \"THE quick.brown_FOx jumped! @ 3.5 meters.\"\\n}\\n'))),t().createElement(o,{name:\"response\"},t().createElement(a.pre,null,t().createElement(a.code,{className:\"language-javascript\",display:\"block\"},'# whitespace 토크나이저로 문장 분석 결과\\n{\\n  \"tokens\" : [\\n    {\\n      \"token\" : \"THE\",\\n      \"start_offset\" : 0,\\n      \"end_offset\" : 3,\\n      \"type\" : \"word\",\\n      \"position\" : 0\\n    },\\n    {\\n      \"token\" : \"quick.brown_FOx\",\\n      \"start_offset\" : 4,\\n      \"end_offset\" : 19,\\n      \"type\" : \"word\",\\n      \"position\" : 1\\n    },\\n    {\\n      \"token\" : \"jumped!\",\\n      \"start_offset\" : 20,\\n      \"end_offset\" : 27,\\n      \"type\" : \"word\",\\n      \"position\" : 2\\n    },\\n    {\\n      \"token\" : \"@\",\\n      \"start_offset\" : 28,\\n      \"end_offset\" : 29,\\n      \"type\" : \"word\",\\n      \"position\" : 3\\n    },\\n    {\\n      \"token\" : \"3.5\",\\n      \"start_offset\" : 30,\\n      \"end_offset\" : 33,\\n      \"type\" : \"word\",\\n      \"position\" : 4\\n    },\\n    {\\n      \"token\" : \"meters.\",\\n      \"start_offset\" : 34,\\n      \"end_offset\" : 41,\\n      \"type\" : \"word\",\\n      \"position\" : 5\\n    }\\n  ]\\n}\\n')))),\"\\n\",t().createElement(a.p,null,\"앞 예제들의 response 탭을 열어 각각의 결과를 확인 해 보면 다음과 같습니다.\"),\"\\n\",t().createElement(a.p,null,\"먼저 \",t().createElement(a.strong,null,\"Standard\"),' 토크나이저는 공백으로 텀을 구분하면서 \"@\"과 같은 일부 특수문자를 제거합니다. \"jumped!\"의 느낌표, \"meters.\"의 마침표 처럼 단어 끝에 있는 특수문자는 제거되지만 \"quick.brown_FOx\" 또는 \"3.5\" 처럼 중간에 있는 마침표나 밑줄 등은 제거되거나 분리되지 않는 것을 확인할 수 있습니다.'),\"\\n\",t().createElement(a.p,null,t().createElement(a.strong,null,\"Letter\"),' 토크나이저는 알파벳을 제외한 모든 공백, 숫자, 기호들을 기준으로 텀을 분리합니다. \"quick.brown_FOx\" 같은 단어도 \"quick\", \"brown\", \"FOx\" 처럼 모두 분리된 것을 확인할 수 있습니다.'),\"\\n\",t().createElement(a.p,null,t().createElement(a.strong,null,\"Whitespace\"),' 토크나이저는 스페이스, 탭, 그리고 줄바꿈 같은 공백만을 기준으로 텀을 분리합니다. 특수문자 \"@\" 그리고 \"meters.\" 의 마지막에 있는 마침표도 사라지지 않고 그대로 남아있는 것을 확인할 수 있습니다.'),\"\\n\",t().createElement(a.p,null,\"3개의 토크나이저 중에 \",t().createElement(a.strong,null,\"Letter\"),\" 토크나이저의 경우 검색 범위가 넓어져서 원하지 않는 결과가 많이 나올 수 있고, 반대로 \",t().createElement(a.strong,null,\"Whitespace\"),\"의 경우 특수문자를 거르지 않기 때문에 정확하게 검색을 하지 않으면 검색 결과가 나오지 않을 수 있습니다. 따라서 보통은 \",t().createElement(a.strong,null,\"Standard\"),\" 토크나이저를 많이 사용합니다.\"),\"\\n\",t().createElement(a.h2,{id:\"652-uax-url-email\"},\"6.5.2 UAX URL Email\"),\"\\n\",t().createElement(a.p,null,\"주로 사용되는 Standard 토크나이저도 \",t().createElement(a.code,{display:\"inline\"},\"@\"),\", \",t().createElement(a.code,{display:\"inline\"},\"/\"),\" 같은 특수문자는 공백과 마찬가지로 제거하고 분리합니다. 그런데 요즘의 블로그 포스트나 신문기사 같은 텍스트 들에는 이메일 주소 또는 웹 URL 경로 등이 삽입되어 있는 경우가 상당히 많습니다. 이 경우 Standard 토크나이저를 사용하면 이메일 주소등이 정상적으로 인식되지 않아 문제가 될 수 있는데, 이를 방지하기 위해 사용 가능한 것이 \",t().createElement(a.strong,null,\"UAX URL Email\"),\" 토크나이저 입니다.\"),\"\\n\",t().createElement(a.p,null,t().createElement(a.strong,null,\"UAX URL Email\"),\" 토크나이저는 이메일 주소와 웹 URL 경로는 분리하지 않고 그대로 하나의 텀으로 저장을 합니다. 다음은 \",t().createElement(a.strong,null,'\"email address is ',t().createElement(a.a,{href:\"mailto:my-name@email.com\"},\"my-name@email.com\"),\" and website is \",t().createElement(a.a,{href:\"https://www.elastic.co\"},\"https://www.elastic.co\"),'\"'),\" 문장을 각각 Standard 그리고 UAX URL Email 토크나이저로 분리 한 결과입니다.\"),\"\\n\",t().createElement(r,null,t().createElement(o,{name:\"request\"},t().createElement(a.pre,null,t().createElement(a.code,{className:\"language-javascript\",display:\"block\"},'# standard 토크나이저로 문장 분석\\nGET _analyze\\n{\\n  \"tokenizer\": \"standard\",\\n  \"text\": \"email address is my-name@email.com and website is https://www.elastic.co\"\\n}\\n'))),t().createElement(o,{name:\"response\"},t().createElement(a.pre,null,t().createElement(a.code,{className:\"language-javascript\",display:\"block\"},'# standard 토크나이저로 문장 분석 결과\\n{\\n  \"tokens\" : [\\n    {\\n      \"token\" : \"email\",\\n      \"start_offset\" : 0,\\n      \"end_offset\" : 5,\\n      \"type\" : \"\u003cALPHANUM\u003e\",\\n      \"position\" : 0\\n    },\\n    {\\n      \"token\" : \"address\",\\n      \"start_offset\" : 6,\\n      \"end_offset\" : 13,\\n      \"type\" : \"\u003cALPHANUM\u003e\",\\n      \"position\" : 1\\n    },\\n    {\\n      \"token\" : \"is\",\\n      \"start_offset\" : 14,\\n      \"end_offset\" : 16,\\n      \"type\" : \"\u003cALPHANUM\u003e\",\\n      \"position\" : 2\\n    },\\n    {\\n      \"token\" : \"my\",\\n      \"start_offset\" : 17,\\n      \"end_offset\" : 19,\\n      \"type\" : \"\u003cALPHANUM\u003e\",\\n      \"position\" : 3\\n    },\\n    {\\n      \"token\" : \"name\",\\n      \"start_offset\" : 20,\\n      \"end_offset\" : 24,\\n      \"type\" : \"\u003cALPHANUM\u003e\",\\n      \"position\" : 4\\n    },\\n    {\\n      \"token\" : \"email.com\",\\n      \"start_offset\" : 25,\\n      \"end_offset\" : 34,\\n      \"type\" : \"\u003cALPHANUM\u003e\",\\n      \"position\" : 5\\n    },\\n    {\\n      \"token\" : \"and\",\\n      \"start_offset\" : 35,\\n      \"end_offset\" : 38,\\n      \"type\" : \"\u003cALPHANUM\u003e\",\\n      \"position\" : 6\\n    },\\n    {\\n      \"token\" : \"website\",\\n      \"start_offset\" : 39,\\n      \"end_offset\" : 46,\\n      \"type\" : \"\u003cALPHANUM\u003e\",\\n      \"position\" : 7\\n    },\\n    {\\n      \"token\" : \"is\",\\n      \"start_offset\" : 47,\\n      \"end_offset\" : 49,\\n      \"type\" : \"\u003cALPHANUM\u003e\",\\n      \"position\" : 8\\n    },\\n    {\\n      \"token\" : \"https\",\\n      \"start_offset\" : 50,\\n      \"end_offset\" : 55,\\n      \"type\" : \"\u003cALPHANUM\u003e\",\\n      \"position\" : 9\\n    },\\n    {\\n      \"token\" : \"www.elastic.co\",\\n      \"start_offset\" : 58,\\n      \"end_offset\" : 72,\\n      \"type\" : \"\u003cALPHANUM\u003e\",\\n      \"position\" : 10\\n    }\\n  ]\\n}\\n')))),\"\\n\",t().createElement(r,null,t().createElement(o,{name:\"request\"},t().createElement(a.pre,null,t().createElement(a.code,{className:\"language-javascript\",display:\"block\"},'# uax_url_email 토크나이저로 문장 분석\\nGET _analyze\\n{\\n  \"tokenizer\": \"uax_url_email\",\\n  \"text\": \"email address is my-name@email.com and website is https://www.elastic.co\"\\n}\\n'))),t().createElement(o,{name:\"response\"},t().createElement(a.pre,null,t().createElement(a.code,{className:\"language-javascript\",display:\"block\"},'# uax_url_email 토크나이저로 문장 분석 결과\\n{\\n  \"tokens\" : [\\n    {\\n      \"token\" : \"email\",\\n      \"start_offset\" : 0,\\n      \"end_offset\" : 5,\\n      \"type\" : \"\u003cALPHANUM\u003e\",\\n      \"position\" : 0\\n    },\\n    {\\n      \"token\" : \"address\",\\n      \"start_offset\" : 6,\\n      \"end_offset\" : 13,\\n      \"type\" : \"\u003cALPHANUM\u003e\",\\n      \"position\" : 1\\n    },\\n    {\\n      \"token\" : \"is\",\\n      \"start_offset\" : 14,\\n      \"end_offset\" : 16,\\n      \"type\" : \"\u003cALPHANUM\u003e\",\\n      \"position\" : 2\\n    },\\n    {\\n      \"token\" : \"my-name@email.com\",\\n      \"start_offset\" : 17,\\n      \"end_offset\" : 34,\\n      \"type\" : \"\u003cEMAIL\u003e\",\\n      \"position\" : 3\\n    },\\n    {\\n      \"token\" : \"and\",\\n      \"start_offset\" : 35,\\n      \"end_offset\" : 38,\\n      \"type\" : \"\u003cALPHANUM\u003e\",\\n      \"position\" : 4\\n    },\\n    {\\n      \"token\" : \"website\",\\n      \"start_offset\" : 39,\\n      \"end_offset\" : 46,\\n      \"type\" : \"\u003cALPHANUM\u003e\",\\n      \"position\" : 5\\n    },\\n    {\\n      \"token\" : \"is\",\\n      \"start_offset\" : 47,\\n      \"end_offset\" : 49,\\n      \"type\" : \"\u003cALPHANUM\u003e\",\\n      \"position\" : 6\\n    },\\n    {\\n      \"token\" : \"https://www.elastic.co\",\\n      \"start_offset\" : 50,\\n      \"end_offset\" : 72,\\n      \"type\" : \"\u003cURL\u003e\",\\n      \"position\" : 7\\n    }\\n  ]\\n}\\n')))),\"\\n\",t().createElement(a.p,null,t().createElement(a.code,{display:\"inline\"},'\"tokenizer\": \"uax_url_email\"'),\" 로 설정하여 텍스트를 분석하면 이메일 주소와 웹 URL은 그대로 남아있는 것을 확인할 수 있습니다.\"),\"\\n\",t().createElement(a.h2,{id:\"653-pattern\"},\"6.5.3 Pattern\"),\"\\n\",t().createElement(a.p,null,\"앞에서 살펴본 토크나이저들은 다소 차이는 있지만 기본적으로는 공백을 기준으로 하여 텀 들을 분리합니다. 분석 할 데이터가 사람이 읽는 일반적인 문장이 아니라 서버 시스템이나 IoT 장비 등에서 수집된 머신 데이터인 경우 공백이 아닌 쉼표나 세로선 같은 기호가 값 항목의 구분자로 사용되는 경우가 종종 있습니다. 이런 특수한 문자를 구분자로 사용하여 텀을 분리하고 싶은 경우 사용할 수 있는 것이 \",t().createElement(a.strong,null,\"Pattern\"),\" 토크나이저 입니다.\"),\"\\n\",t().createElement(a.p,null,t().createElement(a.strong,null,\"Pattern\"),\" 토크나이저는 분리할 패턴을 기호 또는 Java 정규식 형태로 지정할 수 있습니다. 구분자 지정은 \",t().createElement(a.code,{display:\"inline\"},\"pattern\"),\" 항목에 설정합니다. 다음은 인덱스 \",t().createElement(a.strong,null,\"pat_tokenizer\"),\"에 슬래시 \",t().createElement(a.code,{display:\"inline\"},\"/\"),\"를 구분자로 하는 \",t().createElement(a.strong,null,\"my_pat_tokenizer\"),\"라는 사용자 정의 토크나이저를 만들고 \",t().createElement(a.strong,null,'\"/usr/share/elasticsearch/bin\"'),\" 를 분석하는 예제입니다.\"),\"\\n\",t().createElement(a.pre,null,t().createElement(a.code,{className:\"language-javascript\",display:\"block\"},'# pat_tokenizer 인덱스에 my_pat_tokenizer 토크나이저 생성\\nPUT pat_tokenizer\\n{\\n  \"settings\": {\\n    \"analysis\": {\\n      \"tokenizer\": {\\n        \"my_pat_tokenizer\": {\\n          \"type\": \"pattern\",\\n          \"pattern\": \"/\"\\n        }\\n      }\\n    }\\n  }\\n}\\n')),\"\\n\",t().createElement(r,null,t().createElement(o,{name:\"request\"},t().createElement(a.pre,null,t().createElement(a.code,{className:\"language-javascript\",display:\"block\"},'# my_pat_tokenizer 토크나이저로 문장 분석\\nGET pat_tokenizer/_analyze\\n{\\n  \"tokenizer\": \"my_pat_tokenizer\",\\n  \"text\": \"/usr/share/elasticsearch/bin\"\\n}\\n'))),t().createElement(o,{name:\"response\"},t().createElement(a.pre,null,t().createElement(a.code,{className:\"language-javascript\",display:\"block\"},'# my_pat_tokenizer 토크나이저로 문장 분석 결과\\n{\\n  \"tokens\" : [\\n    {\\n      \"token\" : \"usr\",\\n      \"start_offset\" : 1,\\n      \"end_offset\" : 4,\\n      \"type\" : \"word\",\\n      \"position\" : 0\\n    },\\n    {\\n      \"token\" : \"share\",\\n      \"start_offset\" : 5,\\n      \"end_offset\" : 10,\\n      \"type\" : \"word\",\\n      \"position\" : 1\\n    },\\n    {\\n      \"token\" : \"elasticsearch\",\\n      \"start_offset\" : 11,\\n      \"end_offset\" : 24,\\n      \"type\" : \"word\",\\n      \"position\" : 2\\n    },\\n    {\\n      \"token\" : \"bin\",\\n      \"start_offset\" : 25,\\n      \"end_offset\" : 28,\\n      \"type\" : \"word\",\\n      \"position\" : 3\\n    }\\n  ]\\n}\\n')))),\"\\n\",t().createElement(a.p,null,t().createElement(a.code,{display:\"inline\"},'\"pattern\": \"/\"'),\" 같은 단일 기호 외에도 알파벳 대문자를 기준으로 텀을 분리하도록 하는 \",t().createElement(a.code,{display:\"inline\"},'\"pattern\": \"(?\u003c=\\\\\\\\p{Lower})(?=\\\\\\\\p{Upper})\"'),\" 와 같은 정규식(Regular Expression) 으로도 설정이 가능합니다.\"),\"\\n\",t().createElement(a.h2,{id:\"654-path-hierarchy\"},\"6.5.4 Path Hierarchy\"),\"\\n\",t().createElement(a.p,null,\"디렉토리나 파일 경로 등은 흔하게 저장되는 데이터입니다. 앞의 Pattern 토크나이저에서 \",t().createElement(a.strong,null,'\"/usr/share/elasticsearch/bin\"'),\" 를 실행했을 때는 디렉토리명 들이 각각 하나의 토큰으로 분리 된 것을 확인했습니다. 이 경우 다른 패스에 있는데 하위 디렉토리 명이 같은 경우 데이터 검색에 혼동이 올 수 있습니다.\"),\"\\n\",t().createElement(a.p,null,t().createElement(a.strong,null,\"Path Hierarchy\"),\" 토크나이저를 사용하면 경로 데이터를 계층별로 저장해서 하위 디렉토리에 속한 도큐먼트들을 수준별로 검색하거나 집계하는 것이 가능합니다. 다음은 Path Hierarchy 토크나이저로 \",t().createElement(a.strong,null,'\"/usr/share/elasticsearch/bin\"'),\" 를 분석하는 예제입니다.\"),\"\\n\",t().createElement(r,null,t().createElement(o,{name:\"request\"},t().createElement(a.pre,null,t().createElement(a.code,{className:\"language-javascript\",display:\"block\"},'# path_hierarchy 토크나이저로 문장 분석\\nPOST _analyze\\n{\\n  \"tokenizer\": \"path_hierarchy\",\\n  \"text\": \"/usr/share/elasticsearch/bin\"\\n}\\n'))),t().createElement(o,{name:\"response\"},t().createElement(a.pre,null,t().createElement(a.code,{className:\"language-javascript\",display:\"block\"},'# path_hierarchy 토크나이저로 문장 분석 결과\\n{\\n  \"tokens\" : [\\n    {\\n      \"token\" : \"/usr\",\\n      \"start_offset\" : 0,\\n      \"end_offset\" : 4,\\n      \"type\" : \"word\",\\n      \"position\" : 0\\n    },\\n    {\\n      \"token\" : \"/usr/share\",\\n      \"start_offset\" : 0,\\n      \"end_offset\" : 10,\\n      \"type\" : \"word\",\\n      \"position\" : 0\\n    },\\n    {\\n      \"token\" : \"/usr/share/elasticsearch\",\\n      \"start_offset\" : 0,\\n      \"end_offset\" : 24,\\n      \"type\" : \"word\",\\n      \"position\" : 0\\n    },\\n    {\\n      \"token\" : \"/usr/share/elasticsearch/bin\",\\n      \"start_offset\" : 0,\\n      \"end_offset\" : 28,\\n      \"type\" : \"word\",\\n      \"position\" : 0\\n    }\\n  ]\\n}\\n')))),\"\\n\",t().createElement(a.p,null,t().createElement(a.code,{display:\"inline\"},\"delimiter\"),\" 항목값으로 경로 구분자를 지정할 수 있습니다. 디폴트는 \",t().createElement(a.code,{display:\"inline\"},\"/\"),\" 입니다. 그리고 \",t().createElement(a.code,{display:\"inline\"},\"replacement\"),\" 옵션을 이용해서 소스의 구분자를 다른 구분자로 대치해서 저장하는 것도 가능합니다. 그 외의 옵션들은 \",t().createElement(a.a,{href:\"https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-pathhierarchy-tokenizer.html\"},\"공식 도큐먼트\"),\"를 참고하시기 바랍니다.\"),\"\\n\",t().createElement(a.p,null,\"다음은 인덱스 \",t().createElement(a.strong,null,\"hir_tokenizer\"),\"에 \",t().createElement(a.code,{display:\"inline\"},\"-\"),\" 구분자를 \",t().createElement(a.code,{display:\"inline\"},\"/\"),\" 구분자로 대치하는 \",t().createElement(a.strong,null,\"my_hir_tokenizer\"),\"라는 사용자 정의 토크나이저를 만들고 \",t().createElement(a.strong,null,'\"one-two-three\"'),\" 문장을 분석하는 예제입니다.\"),\"\\n\",t().createElement(a.pre,null,t().createElement(a.code,{className:\"language-javascript\",display:\"block\"},'# hir_tokenizer 인덱스에 my_hir_tokenizer 토크나이저 생성\\nPUT hir_tokenizer\\n{\\n  \"settings\": {\\n    \"analysis\": {\\n      \"tokenizer\": {\\n        \"my_hir_tokenizer\": {\\n          \"type\": \"path_hierarchy\",\\n          \"delimiter\": \"-\",\\n          \"replacement\": \"/\"\\n        }\\n      }\\n    }\\n  }\\n}\\n')),\"\\n\",t().createElement(r,null,t().createElement(o,{name:\"request\"},t().createElement(a.pre,null,t().createElement(a.code,{className:\"language-javascript\",display:\"block\"},'# hir_tokenizer 토크나이저로 문장 분석\\nGET hir_tokenizer/_analyze\\n{\\n  \"tokenizer\": \"my_hir_tokenizer\",\\n  \"text\": [\\n    \"one-two-three\"\\n  ]\\n}\\n'))),t().createElement(o,{name:\"response\"},t().createElement(a.pre,null,t().createElement(a.code,{className:\"language-javascript\",display:\"block\"},'# hir_tokenizer 토크나이저로 문장 분석 결과\\n{\\n  \"tokens\" : [\\n    {\\n      \"token\" : \"one\",\\n      \"start_offset\" : 0,\\n      \"end_offset\" : 3,\\n      \"type\" : \"word\",\\n      \"position\" : 0\\n    },\\n    {\\n      \"token\" : \"one/two\",\\n      \"start_offset\" : 0,\\n      \"end_offset\" : 7,\\n      \"type\" : \"word\",\\n      \"position\" : 0\\n    },\\n    {\\n      \"token\" : \"one/two/three\",\\n      \"start_offset\" : 0,\\n      \"end_offset\" : 13,\\n      \"type\" : \"word\",\\n      \"position\" : 0\\n    }\\n  ]\\n}\\n')))))}};function s(e,n){throw new Error(\"Expected \"+(n?\"component\":\"object\")+\" `\"+e+\"` to be defined: you likely forgot to import, pass, or provide it.\")}})(),o})()));","frontmatter":{"id":"esG7-06-05-tokenizer","slug":"/krEsguide7/esG7-06-05-tokenizer","title":"6.5 토크나이저 - Tokenizer","description":"모든 문서에 대한 저작권은 Elastic 과 김종민(kimjmin@gmail.com) 에게 있으며 허가되지 않은 무단 복제나 배포 및 출판을 금지합니다. 본 문서의 내용 및 포함된 자료를 인용하고자 하는 경우 출처를 명시하고 게재된 주소를 김종민(kimjmin@gmail.com)에게 알려주시기 바랍니다.","date":"2022-01-25T00:00:00.000Z","tags":["indexing","text","analysis","token","tokenizer"],"link":"file:///Users/kimjmin/git/docs-kr/esguide7","linkPath":"06-text-analysis/06-05-tokenizer.mdx"},"missionId":"krEsguide7"},"__N_SSG":true},"page":"/[...slug]","query":{"slug":["krEsguide7","esG7-06-05-tokenizer"]},"buildId":"JogDT4Rcnrb0olaKm5b4J","assetPrefix":"/docs-kr","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>