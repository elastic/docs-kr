<!DOCTYPE html><html lang="en"><head><meta name="eui-styles"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-24"></script><script>
              window.dataLayer = window.dataLayer || [];
              function gtag(){dataLayer.push(arguments);}
              gtag('js', new Date());
              gtag('config', 'UA-12395217-24', {
                page_path: window.location.pathname,
              });
          </script><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><script>!function(){try{var d=document.documentElement;var e=localStorage.getItem("elastic-docs-theme");if(e){d.setAttribute('data-theme', e)}else{d.setAttribute('data-theme', 'light');}}catch(t){}}();</script><title>6.7 형태소 분석 - Stemming | Elastic Documentation</title><meta property="og:title" content="6.7 형태소 분석 - Stemming | Elastic Documentation"/><meta class="elastic" name="title" content="6.7 형태소 분석 - Stemming"/><meta class="elastic" name="date" content="2022-01-25T00:00:00.000Z"/><meta name="description" content="모든 문서에 대한 저작권은 Elastic 과 김종민(kimjmin@gmail.com) 에게 있으며 허가되지 않은 무단 복제나 배포 및 출판을 금지합니다. 본 문서의 내용 및 포함된 자료를 인용하고자 하는 경우 출처를 명시하고 게재된 주소를 김종민(kimjmin@gmail.com)에게 알려주시기 바랍니다."/><meta property="og:description" content="모든 문서에 대한 저작권은 Elastic 과 김종민(kimjmin@gmail.com) 에게 있으며 허가되지 않은 무단 복제나 배포 및 출판을 금지합니다. 본 문서의 내용 및 포함된 자료를 인용하고자 하는 경우 출처를 명시하고 게재된 주소를 김종민(kimjmin@gmail.com)에게 알려주시기 바랍니다."/><meta name="twitter:site" content="@elastic"/><meta property="og:url" content="http://localhost:3000/krEsguide7/esG7-06-07-stemming"/><link rel="stylesheet" type="text/css" href="/themes/eui_theme_undefined.min.css"/><link rel="stylesheet" type="text/css" href="/themes/theme_undefined.css"/><link rel="shortcut icon" href="/assets/images/favicon.ico"/><meta name="next-head-count" content="14"/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-a40ef1678bae11e696dba45124eadd70.js"></script><script src="/_next/static/chunks/webpack-5b19eee634f155d9037d.js" defer=""></script><script src="/_next/static/chunks/framework-bf9b12c23e794b196495.js" defer=""></script><script src="/_next/static/chunks/main-710a14204f294c81ed08.js" defer=""></script><script src="/_next/static/chunks/pages/_app-d9a28ac2b5165b299106.js" defer=""></script><script src="/_next/static/chunks/c78d26b1-ff6470003369f2a26fc7.js" defer=""></script><script src="/_next/static/chunks/103-fd3e1552f32e8c4a6b92.js" defer=""></script><script src="/_next/static/chunks/3674-41861bc71d856d154d9e.js" defer=""></script><script src="/_next/static/chunks/7815-952dc762df3d4a43befe.js" defer=""></script><script src="/_next/static/chunks/9237-e960f47bcd4625ef5949.js" defer=""></script><script src="/_next/static/chunks/4620-e195c3f5ae7ecefc57c7.js" defer=""></script><script src="/_next/static/chunks/8482-d6a48a2948368737094e.js" defer=""></script><script src="/_next/static/chunks/pages/%5B...slug%5D-ac753ff46f79468d535c.js" defer=""></script><script src="/_next/static/K8YMqTQBQVe0pMujUHgY0/_buildManifest.js" defer=""></script><script src="/_next/static/K8YMqTQBQVe0pMujUHgY0/_ssgManifest.js" defer=""></script></head><body class="guideBody"><div id="__next"><div class="docWrapper"><header data-elastic-exclude="true"><div class="euiHeader euiHeader--dark euiHeader--fixed"><div class="euiHeaderSection euiHeaderSection--dontGrow euiHeaderSection--left"><div class="euiHeaderSectionItem"><a rel="noreferrer" class="euiHeaderLogo"><svg data-type="logoElastic" xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="none" viewBox="0 0 32 32" class="euiIcon euiIcon--large euiHeaderLogo__icon" focusable="false" role="img" aria-label="Elastic"><path class="outline" fill-rule="evenodd" clip-rule="evenodd" d="M30.86 13.129A6.333 6.333 0 0132 16.77a6.419 6.419 0 01-1.162 3.652 6.382 6.382 0 01-3.032 2.331 4.833 4.833 0 01-1.672 5.542 4.789 4.789 0 01-5.77-.074 9.016 9.016 0 01-4.5 3.322 8.982 8.982 0 01-5.587.023 9.014 9.014 0 01-4.526-3.287 9.067 9.067 0 01-1.727-5.333c0-.579.053-1.156.16-1.725A6.305 6.305 0 011.145 18.9 6.341 6.341 0 010 15.242a6.42 6.42 0 011.163-3.652 6.384 6.384 0 013.035-2.33 4.833 4.833 0 011.658-5.557 4.789 4.789 0 015.78.07 9.037 9.037 0 014.93-3.446 9.007 9.007 0 015.994.419 9.05 9.05 0 014.407 4.098 9.097 9.097 0 01.873 5.965 6.298 6.298 0 013.02 2.32zm-18.28.658l7.002 3.211 7.066-6.213a7.85 7.85 0 00.152-1.557c0-1.692-.539-3.34-1.54-4.704a7.897 7.897 0 00-4.02-2.869 7.87 7.87 0 00-4.932.086 7.9 7.9 0 00-3.92 3.007l-1.174 6.118 1.367 2.92-.001.001zm-7.247 7.441A7.964 7.964 0 006.72 27.53a7.918 7.918 0 004.04 2.874 7.89 7.89 0 004.95-.097 7.92 7.92 0 003.926-3.03l1.166-6.102-1.555-2.985-7.03-3.211-6.885 6.248.001.001zm4.755-11.024l-4.8-1.137.002-.002a3.82 3.82 0 011.312-4.358 3.785 3.785 0 014.538.023l-1.052 5.474zm-5.216.01a5.294 5.294 0 00-2.595 1.882 5.324 5.324 0 00-.142 6.124 5.287 5.287 0 002.505 2l6.733-6.101-1.235-2.65-5.266-1.255zm18.286 17.848a3.737 3.737 0 01-2.285-.785l1.037-5.454 4.8 1.125a3.812 3.812 0 01-1.801 4.68c-.54.283-1.14.432-1.751.434zm-1.31-7.499l5.28 1.238a5.34 5.34 0 002.622-1.938 5.37 5.37 0 001.013-3.106 5.311 5.311 0 00-.936-3.01 5.282 5.282 0 00-2.475-1.944l-6.904 6.07 1.4 2.69z" fill="#fff"></path><path d="M12.58 13.787l7.002 3.211 7.066-6.213a7.849 7.849 0 00.152-1.557c0-1.692-.539-3.34-1.54-4.704a7.897 7.897 0 00-4.02-2.869 7.87 7.87 0 00-4.932.086 7.9 7.9 0 00-3.92 3.007l-1.174 6.118 1.367 2.92-.001.001z" fill="#FEC514"></path><path d="M5.333 21.228A7.964 7.964 0 006.72 27.53a7.918 7.918 0 004.04 2.874 7.89 7.89 0 004.95-.097 7.92 7.92 0 003.926-3.03l1.166-6.102-1.555-2.985-7.03-3.211-6.885 6.248.001.001z" fill="#00BFB3"></path><path d="M5.288 9.067l4.8 1.137L11.14 4.73a3.785 3.785 0 00-5.914 1.94 3.82 3.82 0 00.064 2.395" fill="#F04E98"></path><path d="M4.872 10.214a5.294 5.294 0 00-2.595 1.882 5.324 5.324 0 00-.142 6.124 5.287 5.287 0 002.505 2l6.733-6.101-1.235-2.65-5.266-1.255z" fill="#1BA9F5"></path><path d="M20.873 27.277a3.736 3.736 0 002.285.785 3.783 3.783 0 003.101-1.63 3.812 3.812 0 00.451-3.484l-4.8-1.125-1.037 5.454z" fill="#93C90E"></path><path d="M21.848 20.563l5.28 1.238a5.34 5.34 0 002.622-1.938 5.37 5.37 0 001.013-3.106 5.312 5.312 0 00-.936-3.01 5.283 5.283 0 00-2.475-1.944l-6.904 6.07 1.4 2.69z" fill="#07C"></path></svg><span class="euiHeaderLogo__text"><svg class="elasticMark" width="64" height="19" fill="white" xmlns="http://www.w3.org/2000/svg" aria-labelledby="elasticMark"><title id="elasticMark">Elastic</title><path d="M9.74 16.882l.711-.076.046 1.455c-1.879.257-3.485.393-4.818.393-1.773 0-3.03-.515-3.773-1.545C1.164 16.08.8 14.473.8 12.306c0-4.333 1.727-6.5 5.167-6.5 1.666 0 2.909.47 3.727 1.394.818.924 1.227 2.394 1.227 4.379l-.106 1.409H2.664c0 1.364.242 2.379.742 3.03.5.652 1.349.985 2.576.985 1.242.03 2.485-.015 3.757-.121zm-.667-5.349c0-1.515-.243-2.59-.728-3.212-.484-.621-1.272-.94-2.363-.94s-1.924.334-2.47.986c-.545.651-.833 1.712-.848 3.166h6.409zM13.497 18.427V.7h1.848v17.727h-1.848zM27.027 9.806v6.076c0 .621 1.53.742 1.53.742l-.09 1.637c-1.303 0-2.38.106-3.03-.515a10.861 10.861 0 01-4.44.924c-1.136 0-2-.319-2.59-.97-.592-.636-.895-1.56-.895-2.773 0-1.197.303-2.09.91-2.651.605-.56 1.56-.925 2.863-1.046l3.879-.363v-1.06c0-.834-.182-1.44-.546-1.804-.363-.364-.863-.545-1.485-.545H18.27V5.82h4.742c1.394 0 2.41.318 3.046.97.651.636.97 1.651.97 3.015zm-7.606 5.03c0 1.516.621 2.273 1.879 2.273a9.89 9.89 0 003.303-.56l.56-.197v-4.076l-3.65.348c-.743.06-1.274.273-1.607.637-.333.363-.485.894-.485 1.575zM34.255 7.473c-1.788 0-2.697.62-2.697 1.879 0 .575.212.984.62 1.227.41.242 1.35.485 2.819.742 1.47.258 2.5.606 3.106 1.076.606.454.91 1.318.91 2.59 0 1.274-.41 2.198-1.228 2.789-.818.59-2 .894-3.576.894-1.015 0-4.424-.38-4.424-.38l.106-1.605c1.954.182 3.379.333 4.333.333.955 0 1.682-.151 2.182-.454.5-.303.758-.819.758-1.53 0-.713-.212-1.198-.637-1.455-.424-.258-1.363-.5-2.818-.728-1.455-.227-2.485-.56-3.09-1.015-.607-.439-.91-1.272-.91-2.47 0-1.196.424-2.09 1.273-2.666.848-.576 1.909-.864 3.166-.864 1 0 4.485.258 4.485.258v1.621c-1.833-.106-3.333-.242-4.379-.242zM47.952 7.685h-3.925v5.909c0 1.409.106 2.348.303 2.788.212.44.697.666 1.47.666l2.197-.151.121 1.53c-1.106.182-1.94.273-2.515.273-1.288 0-2.167-.318-2.667-.94-.5-.62-.742-1.818-.742-3.575v-6.5h-1.758V6.079h1.758V2.29h1.833v3.773h3.925v1.62zM50.527 3.276V1.139h1.849v2.152l-1.849-.015zm0 15.151V6.08h1.849v12.348h-1.849zM60.406 5.821c.546 0 1.47.106 2.773.303l.59.076-.075 1.5c-1.318-.152-2.288-.227-2.91-.227-1.393 0-2.348.333-2.848 1-.5.666-.757 1.909-.757 3.712 0 1.803.227 3.06.697 3.773.47.712 1.44 1.06 2.924 1.06l2.91-.227.075 1.53c-1.53.227-2.682.349-3.44.349-1.924 0-3.257-.5-3.984-1.485-.728-.985-1.106-2.652-1.106-5 0-2.349.393-4 1.181-4.94.803-.939 2.122-1.424 3.97-1.424z"></path></svg></span></a></div></div><div class="euiHeaderSection euiHeaderSection--dontGrow euiHeaderSection--left"><div class="euiHeaderSectionItem"><nav class="euiHeaderLinks" aria-label="App menu"><div class="euiHeaderLinks__list euiHeaderLinks__list--gutterS"><a class="euiButton euiButton--primary euiButton--small euiButton--fill" href="https://cloud.elastic.co/registration?source=docsHeader" rel=""><span class="euiButtonContent euiButton__content"><span class="euiButton__text">Try Free</span></span></a></div></nav></div></div></div></header><div class="euiPage euiPage--grow docArticle__template"><div class="euiPageSideBar euiPageSideBar--paddingLarge euiPageSideBar--sticky docChrome__sidebar"><div class="euiFlexItem" data-elastic-exclude="true"><div class="euiContextMenu docChrome__contextMenu"><div class="euiContextMenuPanel euiContextMenu__panel" tabindex="-1"><button class="euiContextMenuPanelTitle" type="button" data-test-subj="contextMenuPanelTitleButton"><span class="euiContextMenu__itemLayout"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="euiIcon euiIcon--medium euiContextMenu__icon" focusable="false" role="img" aria-hidden="true"><path fill-rule="evenodd" clip-rule="evenodd" d="M11.018 14.043a.75.75 0 00.024-1.06l-4.59-4.81a.25.25 0 010-.346l4.59-4.81a.75.75 0 10-1.085-1.035l-4.59 4.81a1.75 1.75 0 000 2.416l4.59 4.81c.286.3.761.31 1.06.024z"></path></svg><span class="euiContextMenu__text">Elastic 가이드북 (7.x)</span></span></button><div><div class="euiSpacer euiSpacer--s css-i2qclb-euiSpacer-s"></div><nav class="euiSideNav" aria-label="Elastic 가이드북 (7.x)"><div id="euiSideNav_36c06da0-e932-11ec-80ba-5973baf82644_content" class="euiSideNav__content euiSideNav__contentMobile-xs euiSideNav__contentMobile-s"><div class="euiSideNavItem euiSideNavItem--root euiSideNavItem--hasChildItems"><div class="euiSideNavItemButton"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">1. 서문</span></span></div><div class="euiSideNavItem__items"><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-01-overview" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">1. 서문</span></span></a></div><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-01-01-elastic-stack" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">1.1 Elastic Stack 소개</span></span></a></div><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-01-01-01-elasticsearch" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">1.1.1 Elasticsearch</span></span></a></div><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-01-01-02-logstash" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">1.1.2 Logstash</span></span></a></div><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-01-01-03-kibana" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">1.1.3 Kibana</span></span></a></div><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-01-01-04-beats" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">1.1.4 Beats</span></span></a></div></div></div><div class="euiSideNavItem euiSideNavItem--root euiSideNavItem--hasChildItems"><div class="euiSideNavItemButton"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">2. Elasticsearch 시작하기</span></span></div><div class="euiSideNavItem__items"><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-02-overview" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">2. Elasticsearch 시작하기</span></span></a></div><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-02-01-data-indexing" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">2.1 데이터 색인</span></span></a></div><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-02-02-install-run" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">2.2 설치 및 실행</span></span></a></div><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-02-02-01-download" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">2.2.1 다운로드 설치 및 실행</span></span></a></div><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-02-02-02-unix-rpm" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">2.2.2 Unix RPM 설치 및 실행</span></span></a></div><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-02-03-es-config" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">2.3 Elasticsearch 환경 설정</span></span></a></div><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-02-03-01-jvm" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">2.3.1 jvm.options</span></span></a></div><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-02-03-02-es-yml" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">2.3.2 elasticsearch.yml</span></span></a></div><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-02-03-03-node-config" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">2.3.3 노드의 역할 : master, data, insgest</span></span></a></div><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-02-03-04-cmd" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">2.3.4 커맨드 라인 설정</span></span></a></div></div></div><div class="euiSideNavItem euiSideNavItem--root euiSideNavItem--hasChildItems"><div class="euiSideNavItemButton"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">3. Elasticsearch 시스템 구조</span></span></div><div class="euiSideNavItem__items"><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-03-overview" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">3. Elasticsearch 시스템 구조</span></span></a></div><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-03-01-cluster" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">3.1 클러스터 구성</span></span></a></div><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-03-02-index-shard" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">3.2 인덱스와 샤드 - Index &amp; Shards</span></span></a></div><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-03-03-master-data-nodes" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">3.3 마스터 노드와 데이터 노드 - Master &amp; Data Nodes</span></span></a></div></div></div><div class="euiSideNavItem euiSideNavItem--root euiSideNavItem--hasChildItems"><div class="euiSideNavItemButton"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">4. Elasticsearch 데이터 처리</span></span></div><div class="euiSideNavItem__items"><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-04-overview" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">4. Elasticsearch 데이터 처리</span></span></a></div><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-04-01-rest-api" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">4.1 REST API</span></span></a></div><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-04-02-crud" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">4.2 CRUD - 입력,조회,수정,삭제</span></span></a></div><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-04-03-bulk-api" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">4.3 벌크 - _bulk API</span></span></a></div><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-04-04-search-api" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">4.4 검색 - _search API</span></span></a></div></div></div><div class="euiSideNavItem euiSideNavItem--root euiSideNavItem--hasChildItems"><div class="euiSideNavItemButton"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">5. 검색과 쿼리 - Query DSL</span></span></div><div class="euiSideNavItem__items"><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-05-overview" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">5. 검색과 쿼리 - Query DSL</span></span></a></div><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-05-01-fulltext" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">5.1 풀텍스트 쿼리 - Full Text Query</span></span></a></div><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-05-02-bool" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">5.2 복합 쿼리 - Bool Query</span></span></a></div><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-05-03-relevancy" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">5.3 정확도 - Relevancy</span></span></a></div><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-05-04-bool-should" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">5.4 bool : sould</span></span></a></div><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-05-05-exact-value" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">5.5 정확값 쿼리 - Exact Value Query</span></span></a></div><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-05-06-range" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">5.6 범위 쿼리 - Range Query</span></span></a></div></div></div><div class="euiSideNavItem euiSideNavItem--root euiSideNavItem--hasChildItems"><div class="euiSideNavItemButton"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">6. 데이터 색인과 텍스트 분석</span></span></div><div class="euiSideNavItem__items"><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-06-overview" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">6. 데이터 색인과 텍스트 분석</span></span></a></div><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-06-01-inverted-index" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">6.1 역 인덱스 - Inverted Index</span></span></a></div><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-06-02-text-analysis" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">6.2 텍스트 분석 - Text Analysis</span></span></a></div><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-06-03-analyzer" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">6.3 애널라이저 - Analyzer</span></span></a></div><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-06-04-char-filter" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">6.4 캐릭터 필터 - Character Filter</span></span></a></div><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-06-05-tokenizer" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">6.5 토크나이저 - Tokenizer</span></span></a></div><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable" href="/krEsguide7/esG7-06-06-token-filter" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">6.6 토큰 필터 - Token Filter</span></span></a></div><div class="euiSideNavItem euiSideNavItem--trunk"><a class="euiSideNavItemButton euiSideNavItemButton--isClickable euiSideNavItemButton-isSelected" href="/krEsguide7/esG7-06-07-stemming" rel="noreferrer"><span class="euiSideNavItemButton__content"><span class="euiSideNavItemButton__label euiSideNavItemButton__label--truncated">6.7 형태소 분석 - Stemming</span></span></a></div></div></div></div></nav></div></div></div></div></div><div class="euiPanel euiPanel--paddingLarge euiPanel--borderRadiusNone euiPanel--plain euiPanel--hasShadow euiPageBody euiPageBody--borderRadiusNone euiPageBody--paddingLarge"><div class="euiFlexGroup euiFlexGroup--gutterExtraLarge euiFlexGroup--directionRow euiFlexGroup--responsive docArticle__wrap"><div class="euiFlexItem docArticle__article"><header class="euiPageHeader euiPageHeader--bottomBorder euiPageHeader--responsive euiPageHeader--center"><div class="euiPageHeaderContent"><div class="euiFlexGroup euiFlexGroup--gutterLarge euiFlexGroup--alignItemsFlexStart euiFlexGroup--directionRow euiFlexGroup--responsive euiPageHeaderContent__top"><div class="euiFlexItem"><h1 class="euiTitle euiTitle--large">6.7 형태소 분석 - Stemming</h1><div class="euiSpacer euiSpacer--l css-jz428s-euiSpacer-l"></div><div class="euiText euiText--medium euiText--constrainedWidth"><p><span class="euiTextColor euiTextColor--subdued">모든 문서에 대한 저작권은 Elastic 과 김종민(kimjmin@gmail.com) 에게 있으며 허가되지 않은 무단 복제나 배포 및 출판을 금지합니다. 본 문서의 내용 및 포함된 자료를 인용하고자 하는 경우 출처를 명시하고 게재된 주소를 김종민(kimjmin@gmail.com)에게 알려주시기 바랍니다.</span></p></div></div></div></div></header><div class="euiSpacer euiSpacer--xl css-kiiy9t-euiSpacer-xl"></div><div class="euiPanel euiPanel--borderRadiusMedium euiPanel--plain euiPanel--noShadow euiPageContent" role="main"><div class="euiPageContentBody"><div class="euiText euiText--medium"><p>우리가 사용하는 언어들은 영어만 보더라도 문법에 따라 명사 뒤에 <strong>~s</strong>, <strong>~ness</strong> 등이 붙거나 동사 뒤에 <strong>~ing</strong>, <strong>~ed</strong> 등이 붙는 등 변화가 많습니다. 검색을 할 때는 보통 이런 문법에 따른 단어의 변형에 상관 없이 검색이 가능해야 하기 때문에 텍스트 데이터를 분석할 때 각각의 텀에 있는 단어들을 기본 형태인 어간을 추출하는 과정을 진행해야 합니다. 이 과정을 보통 <strong>어간 추출</strong> 또는 <strong>형태소 분석</strong> 이라고 하며 영어로는 <strong>stemming</strong> 이라고 합니다. 그리고 형태소 분석을 하는 도구를 형태소 분석기, 영어로는 <strong>stemmer</strong> 라고 합니다.</p>
<p>Elasticsearch 에서는 다양한 형태소 분석기들을 지원하며 Elastic사에서 공식적으로 지원하지 않는 국가의 언어들도 플러그인 형태로 사용 가능하도록 오픈소스로 배포되는 분석기들이 많이 있습니다. Elasticsearch 에서 사용 가능한 형태소 분석기 중에서 가장 많이 알려진 형태소 분석 알고리즘인 Snowball 과 한글 형태소 분석기인 Nori에 대해 살펴보도록 하겠습니다.</p>
<h2 id="671-snowball" style="position:relative"><a class="euiLink euiLink--primary docArticle__headerLink" href="#671-snowball" rel="noreferrer" aria-label="6.7.1 Snowball permalink"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" class="euiIcon euiIcon--medium" focusable="false" role="img" aria-hidden="true"><path d="M7.66 3.803a.5.5 0 11-.706-.707L9.268.78c1.187-1.187 3.242-1 4.596.354s1.54 3.409.354 4.596l-3.536 3.536c-1.187 1.187-3.242 1-4.596-.354a.5.5 0 11.707-.707c.99.99 2.417 1.119 3.182.354l3.536-3.536c.765-.765.635-2.193-.354-3.182-.99-.99-2.417-1.119-3.182-.354L7.661 3.803zm-.32 7.392a.5.5 0 11.707.707l-2.315 2.314c-1.187 1.188-3.242 1-4.596-.353-1.354-1.354-1.54-3.41-.353-4.596L4.318 5.73c1.187-1.187 3.242-1 4.596.354a.5.5 0 01-.707.707c-.989-.99-2.416-1.12-3.182-.354L1.49 9.974c-.766.765-.636 2.193.353 3.182.99.989 2.417 1.119 3.182.353l2.315-2.314z"></path></svg></a>6.7.1 Snowball</h2>
<p><strong>Snowball</strong> 은 2000년 경에 정보 검색의 선구자인 마틴 포터 박사가 개발하여 무료로 공개한 형태소 분석 알고리즘입니다. 보통 ~ing, ~s 등을 제거하여 문장에 쓰인 단어들을 기본 형태로 변경합니다. Elasticsearch 에서 Snowball 은 애널라이저, 토크나이저, 토큰 필터가 모두 정의되어 있으며 사용 방법은 앞의 <a href="/krEsguide7/esG7-06-03-analyzer">사용자 정의 애널라이저</a> 부분에 설명되어 있으니 기억나지 않으면 앞으로 가서 다시 확인 해 보시기 바랍니다.</p>
<h2 id="672-노리-nori-한글-형태소-분석기" style="position:relative"><a class="euiLink euiLink--primary docArticle__headerLink" href="#672-노리-nori-한글-형태소-분석기" rel="noreferrer" aria-label="6.7.2 노리 (nori) 한글 형태소 분석기 permalink"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" class="euiIcon euiIcon--medium" focusable="false" role="img" aria-hidden="true"><path d="M7.66 3.803a.5.5 0 11-.706-.707L9.268.78c1.187-1.187 3.242-1 4.596.354s1.54 3.409.354 4.596l-3.536 3.536c-1.187 1.187-3.242 1-4.596-.354a.5.5 0 11.707-.707c.99.99 2.417 1.119 3.182.354l3.536-3.536c.765-.765.635-2.193-.354-3.182-.99-.99-2.417-1.119-3.182-.354L7.661 3.803zm-.32 7.392a.5.5 0 11.707.707l-2.315 2.314c-1.187 1.188-3.242 1-4.596-.353-1.354-1.354-1.54-3.41-.353-4.596L4.318 5.73c1.187-1.187 3.242-1 4.596.354a.5.5 0 01-.707.707c-.989-.99-2.416-1.12-3.182-.354L1.49 9.974c-.766.765-.636 2.193.353 3.182.99.989 2.417 1.119 3.182.353l2.315-2.314z"></path></svg></a>6.7.2 노리 (nori) 한글 형태소 분석기</h2>
<h3 id="커뮤니티-한글-형태소-분석기---아리랑-은전한닢-open-korean-text" style="position:relative"><a class="euiLink euiLink--primary docArticle__headerLink" href="#커뮤니티-한글-형태소-분석기---아리랑-은전한닢-open-korean-text" rel="noreferrer" aria-label="커뮤니티 한글 형태소 분석기 - 아리랑, 은전한닢, Open Korean Text permalink"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" class="euiIcon euiIcon--medium" focusable="false" role="img" aria-hidden="true"><path d="M7.66 3.803a.5.5 0 11-.706-.707L9.268.78c1.187-1.187 3.242-1 4.596.354s1.54 3.409.354 4.596l-3.536 3.536c-1.187 1.187-3.242 1-4.596-.354a.5.5 0 11.707-.707c.99.99 2.417 1.119 3.182.354l3.536-3.536c.765-.765.635-2.193-.354-3.182-.99-.99-2.417-1.119-3.182-.354L7.661 3.803zm-.32 7.392a.5.5 0 11.707.707l-2.315 2.314c-1.187 1.188-3.242 1-4.596-.353-1.354-1.354-1.54-3.41-.353-4.596L4.318 5.73c1.187-1.187 3.242-1 4.596.354a.5.5 0 01-.707.707c-.989-.99-2.416-1.12-3.182-.354L1.49 9.974c-.766.765-.636 2.193.353 3.182.99.989 2.417 1.119 3.182.353l2.315-2.314z"></path></svg></a>커뮤니티 한글 형태소 분석기 - 아리랑, 은전한닢, Open Korean Text</h3>
<p>한글은 형태의 변형이 매우 복잡한 언어입니다. 특히 복합어, 합성어 등이 많아 하나의 단어도 여러 어간으로 분리해야 하는 경우가 많아 한글을 형태소 분석을 하려면 반드시 한글 형태소 사전이 필요합니다. 오픈 소스 커뮤니티에서 개발되어 Elasticsearch에서 사용 가능한 한글 형태소 분석기는 다음과 같은 것들이 있습니다.</p>
<ul>
<li><strong>아리랑 (arirang)</strong>
<ul>
<li>URL: <a class="euiLink euiLink--primary" href="https://github.com/HowookJeong/elasticsearch-analysis-arirang" rel="noreferrer">https://github.com/HowookJeong/elasticsearch-analysis-arirang<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" class="euiIcon euiIcon--small euiIcon-isLoading euiLink__externalIcon" focusable="false" role="img" aria-label="External link" aria-hidden="true"></svg></a></li>
<li>설명: korean analyzer (lucene analyzer kr arirang)</li>
<li>License: as-is</li>
</ul>
</li>
<li><strong>은전한닢 (seunjeon)</strong>
<ul>
<li>URL: <a class="euiLink euiLink--primary" href="https://bitbucket.org/eunjeon/seunjeon" rel="noreferrer">https://bitbucket.org/eunjeon/seunjeon<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" class="euiIcon euiIcon--small euiIcon-isLoading euiLink__externalIcon" focusable="false" role="img" aria-label="External link" aria-hidden="true"></svg></a></li>
<li>설명: mecab-ko-dic 기반으로 만들어진 JVM 상에서 돌아가는 한국어 형태소분석기입니다. 기본적으로 java와 scala 인터페이스를 제공합니다. 사전이 패키지 내에 포함되어 있기 때문에 별도로 mecab-ko-dic을 설치할 필요가 없습니다. 특징으로는 (시스템 사전에 등록되어 있는 단어에 한하여) 복합명사 분해와 활용어 원형 찾기가 가능합니다.</li>
<li>License: Apache 2.0</li>
</ul>
</li>
<li><strong>Open Korean Text</strong>
<ul>
<li>URL: <a class="euiLink euiLink--primary" href="https://github.com/open-korean-text/open-korean-text" rel="noreferrer">https://github.com/open-korean-text/open-korean-text<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" class="euiIcon euiIcon--small euiIcon-isLoading euiLink__externalIcon" focusable="false" role="img" aria-label="External link" aria-hidden="true"></svg></a></li>
<li>설명: 오픈소스 한국어 처리기 (Official Fork of twitter-korean-text). 스칼라로 쓰여진 한국어 처리기입니다. 현재 텍스트 정규화와 형태소 분석, 스테밍을 지원하고 있습니다. 짧은 트윗은 물론이고 긴 글도 처리할 수 있습니다.</li>
<li>License: Apache 2.0</li>
</ul>
</li>
</ul>
<p>(<a class="euiLink euiLink--primary" href="https://www.elastic.co/kr/blog/using-korean-analyzers" rel="">https://www.elastic.co/kr/blog/using-korean-analyzers<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" class="euiIcon euiIcon--small euiIcon-isLoading euiLink__externalIcon" focusable="false" role="img" aria-label="External link" aria-hidden="true"></svg></a> 에서 발췌)</p>
<p>Elasticsearch가 한글을 지원하지 않던 시절에 위의 형태소 분석기들은 한글 사용자들에게 큰 도움이 되었습니다. 하지만 외부에서 만들어진 기능이다 보니 Elasticsearch 버전이 올라가 구조가 변경되면 사용이 불가능해지고, 버그가 오류가 있어도 누군가가 나서서 쉽게 고치기 어려운 문제가 있었습니다.</p>
<h3 id="nori-개요" style="position:relative"><a class="euiLink euiLink--primary docArticle__headerLink" href="#nori-개요" rel="noreferrer" aria-label="Nori 개요 permalink"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" class="euiIcon euiIcon--medium" focusable="false" role="img" aria-hidden="true"><path d="M7.66 3.803a.5.5 0 11-.706-.707L9.268.78c1.187-1.187 3.242-1 4.596.354s1.54 3.409.354 4.596l-3.536 3.536c-1.187 1.187-3.242 1-4.596-.354a.5.5 0 11.707-.707c.99.99 2.417 1.119 3.182.354l3.536-3.536c.765-.765.635-2.193-.354-3.182-.99-.99-2.417-1.119-3.182-.354L7.661 3.803zm-.32 7.392a.5.5 0 11.707.707l-2.315 2.314c-1.187 1.188-3.242 1-4.596-.353-1.354-1.354-1.54-3.41-.353-4.596L4.318 5.73c1.187-1.187 3.242-1 4.596.354a.5.5 0 01-.707.707c-.989-.99-2.416-1.12-3.182-.354L1.49 9.974c-.766.765-.636 2.193.353 3.182.99.989 2.417 1.119 3.182.353l2.315-2.314z"></path></svg></a>Nori 개요</h3>
<p>Elasticsearch 6.6 버전 부터 공식적으로 <strong>Nori(노리)</strong> 라고 하는 한글 형태소 분석기를 Elastic사에서 공식적으로 개발해서 지원을 하기 시작했습니다. 특이하게 nori는 프랑스 엔지니어인 <a class="euiLink euiLink--primary" href="https://github.com/jimczi" rel="noreferrer">Jim Ferenczi<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" class="euiIcon euiIcon--small euiIcon-isLoading euiLink__externalIcon" focusable="false" role="img" aria-label="External link" aria-hidden="true"></svg></a> 에 의해 처음 개발이 되었습니다. Jim 은 아파치 루씬의 커미터이며 Elasticsearch의 일본어 형태소 분석기인 <strong>Kuromoji(구로모지)</strong> 역시 Jim 이 처음 개발했습니다. Nori 는 <strong>은전한닢</strong>에서 사용하는 <strong>mecab-ko-dic</strong> 사전을 재 가공 하여 사용하고 있습니다. Nori 는 루씬의 기능으로 개발되었으며 루씬 소스에 반영되어 있으며 개발 이력은
<a class="euiLink euiLink--primary" href="https://issues.apache.org/jira/browse/LUCENE-8231" rel="noreferrer">https://issues.apache.org/jira/browse/LUCENE-8231<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" class="euiIcon euiIcon--small euiIcon-isLoading euiLink__externalIcon" focusable="false" role="img" aria-label="External link" aria-hidden="true"></svg></a>
에서 확인 할 수 있고 프로그램 소스는
<a class="euiLink euiLink--primary" href="https://github.com/apache/lucene-solr/tree/master/lucene/analysis/nori" rel="noreferrer">https://github.com/apache/lucene-solr/tree/master/lucene/analysis/nori<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" class="euiIcon euiIcon--small euiIcon-isLoading euiLink__externalIcon" focusable="false" role="img" aria-label="External link" aria-hidden="true"></svg></a>
에서 확인이 가능합니다.</p>
<p>Nori 에 관련한 설명은 공식 홈페이지의 문서 페이지의 <a class="euiLink euiLink--primary" href="https://www.elastic.co/guide/en/elasticsearch/plugins/current/analysis-nori.html" rel="">Elasticsearch : Plugins and Integrations &gt; Analysis Plugins &gt; Nori<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" class="euiIcon euiIcon--small euiIcon-isLoading euiLink__externalIcon" focusable="false" role="img" aria-label="External link" aria-hidden="true"></svg></a> 페이지에서 찾을 수 있습니다.</p>
<h3 id="nori-설치" style="position:relative"><a class="euiLink euiLink--primary docArticle__headerLink" href="#nori-설치" rel="noreferrer" aria-label="Nori 설치 permalink"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" class="euiIcon euiIcon--medium" focusable="false" role="img" aria-hidden="true"><path d="M7.66 3.803a.5.5 0 11-.706-.707L9.268.78c1.187-1.187 3.242-1 4.596.354s1.54 3.409.354 4.596l-3.536 3.536c-1.187 1.187-3.242 1-4.596-.354a.5.5 0 11.707-.707c.99.99 2.417 1.119 3.182.354l3.536-3.536c.765-.765.635-2.193-.354-3.182-.99-.99-2.417-1.119-3.182-.354L7.661 3.803zm-.32 7.392a.5.5 0 11.707.707l-2.315 2.314c-1.187 1.188-3.242 1-4.596-.353-1.354-1.354-1.54-3.41-.353-4.596L4.318 5.73c1.187-1.187 3.242-1 4.596.354a.5.5 0 01-.707.707c-.989-.99-2.416-1.12-3.182-.354L1.49 9.974c-.766.765-.636 2.193.353 3.182.99.989 2.417 1.119 3.182.353l2.315-2.314z"></path></svg></a>Nori 설치</h3>
<p>Nori 를 사용하기 위해서는 먼저 elasticsearch에 analysis-nori 플러그인을 설치해야 합니다. elasticsearch 홈 디렉토리에서 다음 명령을 실행하면 버전에 맞는 nori 플러그인을 받아서 자동으로 설치합니다.</p>
<div><div class="language-bash euiCodeBlock euiCodeBlock--fontSmall euiCodeBlock--paddingSmall"><pre class="euiCodeBlock__pre euiCodeBlock__pre--whiteSpacePre" tabindex="-1"><code class="euiCodeBlock__code" data-code-language="bash"><span class="euiCodeBlock__line"><span class="token comment"># nori 플러그인 설치</span>
</span><span class="euiCodeBlock__line">$ bin/elasticsearch-plugin <span class="token function">install</span> analysis-nori
</span><span class="euiCodeBlock__line"></span></code></pre></div></div>
<p>설치된 nori 플러그인을 제거하려면 다음 명령을 실행합니다.</p>
<div><div class="language-bash euiCodeBlock euiCodeBlock--fontSmall euiCodeBlock--paddingSmall"><pre class="euiCodeBlock__pre euiCodeBlock__pre--whiteSpacePre" tabindex="-1"><code class="euiCodeBlock__code" data-code-language="bash"><span class="euiCodeBlock__line"><span class="token comment"># nori 플러그인 제거</span>
</span><span class="euiCodeBlock__line">$ bin/elasticsearch-plugin remove analysis-nori
</span><span class="euiCodeBlock__line"></span></code></pre></div></div>
<p><a class="euiLink euiLink--primary" href="https://cloud.elastic.co/" rel="">Elastic 클라우드 서비스<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" class="euiIcon euiIcon--small euiIcon-isLoading euiLink__externalIcon" focusable="false" role="img" aria-label="External link" aria-hidden="true"></svg></a>에서 사용하기 위해서는 클러스터를 배포할 때 Customize deployment 메뉴의 Manage plugins and settings 부분에서 analysis-nori 부분을 선택합니다.</p>
<p><figure class="euiImage euiImage--hasShadow euiImage--allowFullScreen euiImage--original"><button type="button" aria-label="Open fullscreen Elastic Cloud 서비스에서 nori 설치 image" class="euiImage__button" data-test-subj="activateFullScreenButton"><img src="/L1VzZXJzL2tpbWptaW4vZ2l0L2RvY3Mta3IvZXNndWlkZTc/assets/06-07_install_nori_cloud.png" alt="Elastic Cloud 서비스에서 nori 설치" class="euiImage__img" title="Elastic Cloud 서비스에서 nori 설치"/><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" class="euiIcon euiIcon--medium euiIcon--ghost euiIcon-isLoading euiImage__icon" focusable="false" role="img" aria-hidden="true"></svg></button></figure></p>
<h3 id="nori_tokenizer" style="position:relative"><a class="euiLink euiLink--primary docArticle__headerLink" href="#nori_tokenizer" rel="noreferrer" aria-label="nori_tokenizer permalink"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" class="euiIcon euiIcon--medium" focusable="false" role="img" aria-hidden="true"><path d="M7.66 3.803a.5.5 0 11-.706-.707L9.268.78c1.187-1.187 3.242-1 4.596.354s1.54 3.409.354 4.596l-3.536 3.536c-1.187 1.187-3.242 1-4.596-.354a.5.5 0 11.707-.707c.99.99 2.417 1.119 3.182.354l3.536-3.536c.765-.765.635-2.193-.354-3.182-.99-.99-2.417-1.119-3.182-.354L7.661 3.803zm-.32 7.392a.5.5 0 11.707.707l-2.315 2.314c-1.187 1.188-3.242 1-4.596-.353-1.354-1.354-1.54-3.41-.353-4.596L4.318 5.73c1.187-1.187 3.242-1 4.596.354a.5.5 0 01-.707.707c-.989-.99-2.416-1.12-3.182-.354L1.49 9.974c-.766.765-.636 2.193.353 3.182.99.989 2.417 1.119 3.182.353l2.315-2.314z"></path></svg></a>nori_tokenizer</h3>
<p>Nori는 <strong>nori_tokenizer</strong> 토크나이저와 <strong>nori_part_of_speech</strong>, <strong>nori_readingform</strong> 토큰 필터를 제공합니다. 먼저 nori_tokenizer 토크나이저를 사용해서 한글을 간단하게 테스트 할 수 있습니다. 다음은 standard와 nori_tokenizer 를 비교해서 <strong>&quot;동해물과 백두산이&quot;</strong> 를 분석한 예제입니다. 당연히 테스트 하는 elasticsearch 에는 analysis-nori 플러그인이 설치되어 있어야 합니다.</p>
<div class="euiTabs euiTabs--small euiTabs--bottomBorder" role="tablist"><button role="tab" aria-selected="true" type="button" class="euiTab euiTab-isSelected" name="request"><span class="euiTab__content">request</span></button><button role="tab" aria-selected="false" type="button" class="euiTab" name="response"><span class="euiTab__content">response</span></button></div><div class="euiSpacer euiSpacer--l css-jz428s-euiSpacer-l"></div><div><div class="language-javascript euiCodeBlock euiCodeBlock--fontSmall euiCodeBlock--paddingSmall"><pre class="euiCodeBlock__pre euiCodeBlock__pre--whiteSpacePre" tabindex="-1"><code class="euiCodeBlock__code" data-code-language="javascript"><span class="euiCodeBlock__line"># standard 토크나이저로 <span class="token string">&quot;동해물과 백두산이&quot;</span> 문장 분석
</span><span class="euiCodeBlock__line"><span class="token constant">GET</span> _analyze
</span><span class="euiCodeBlock__line"><span class="token punctuation">{</span>
</span><span class="euiCodeBlock__line">  <span class="token string">&quot;tokenizer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;standard&quot;</span><span class="token punctuation">,</span>
</span><span class="euiCodeBlock__line">  <span class="token string">&quot;text&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
</span><span class="euiCodeBlock__line">    <span class="token string">&quot;동해물과 백두산이&quot;</span>
</span><span class="euiCodeBlock__line">  <span class="token punctuation">]</span>
</span><span class="euiCodeBlock__line"><span class="token punctuation">}</span>
</span><span class="euiCodeBlock__line"></span></code></pre></div></div>
<div class="euiTabs euiTabs--small euiTabs--bottomBorder" role="tablist"><button role="tab" aria-selected="true" type="button" class="euiTab euiTab-isSelected" name="request"><span class="euiTab__content">request</span></button><button role="tab" aria-selected="false" type="button" class="euiTab" name="response"><span class="euiTab__content">response</span></button></div><div class="euiSpacer euiSpacer--l css-jz428s-euiSpacer-l"></div><div><div class="language-javascript euiCodeBlock euiCodeBlock--fontSmall euiCodeBlock--paddingSmall"><pre class="euiCodeBlock__pre euiCodeBlock__pre--whiteSpacePre" tabindex="-1"><code class="euiCodeBlock__code" data-code-language="javascript"><span class="euiCodeBlock__line"># nori_tokenizer 토크나이저로 <span class="token string">&quot;동해물과 백두산이&quot;</span> 문장 분석
</span><span class="euiCodeBlock__line"><span class="token constant">GET</span> _analyze
</span><span class="euiCodeBlock__line"><span class="token punctuation">{</span>
</span><span class="euiCodeBlock__line">  <span class="token string">&quot;tokenizer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nori_tokenizer&quot;</span><span class="token punctuation">,</span>
</span><span class="euiCodeBlock__line">  <span class="token string">&quot;text&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
</span><span class="euiCodeBlock__line">    <span class="token string">&quot;동해물과 백두산이&quot;</span>
</span><span class="euiCodeBlock__line">  <span class="token punctuation">]</span>
</span><span class="euiCodeBlock__line"><span class="token punctuation">}</span>
</span><span class="euiCodeBlock__line"></span></code></pre></div></div>
<p>Standard 토크나이저는 공백 외에 아무런 분리를 하지 못했지만 nori_tokenizer는 한국어 사전 정보를 이용해 <code class="euiCode" data-code-language="text">&quot;token&quot; : &quot;동해&quot;</code>, <code class="euiCode" data-code-language="text">&quot;token&quot; : &quot;산&quot;</code> 같은 단어을 분리 한 것을 확인할 수 있습니다. nori_tokenizer 에는 다음과 같은 옵션들이 있습니다.</p>
<ul>
<li><strong>user_dictionary</strong> : 사용자 사전이 저장된 파일의 경로를 입력합니다.</li>
<li><strong>user_dictionary_rules</strong> : 사용자 정의 사전을 배열로 입력합니다.</li>
<li><strong>decompound_mode</strong> : 합성어의 저장 방식을 결정합니다. 다음 3개의 값을 사용 가능합니다.<!-- -->
<ul>
<li><code class="euiCode" data-code-language="text">none</code> : 어근을 분리하지 않고 완성된 합성어만 저장합니다.</li>
<li><code class="euiCode" data-code-language="text">discard</code> (디폴트) : 합성어를 분리하여 각 어근만 저장합니다.</li>
<li><code class="euiCode" data-code-language="text">mixed</code> : 어근과 합성어를 모두 저장합니다.</li>
</ul>
</li>
</ul>
<p><strong>user_dictionary</strong>는 다른 애널라이저들과 마찬가지로 config 디렉토리의 상대 경로를 입력하며 변경시 인덱스를 _close / _open 하면 반영됩니다. 사전의 단어들에는 우선순위가 있으며 문장 <strong>&quot;동해물과&quot;</strong> 에서는 <strong>&quot;동해&quot;</strong> 가 가장 우선순위가 높아 &quot;동해&quot; 가 먼저 추출되고 다시 <strong>&quot;물&quot;</strong> 그리고 <strong>&quot;과&quot;</strong> 가 추출되어 <strong>&quot;동해&quot;+&quot;물&quot;+&quot;과&quot;</strong> 같은 형태가 됩니다. user_dictionary 경로에 있는 사전 파일이나 user_dictionary_rules 설정값에 단어만 나열 해 주면 이 단어들을 가장 우선으로 추출합니다.</p>
<p>다음은 <strong>my_nori</strong> 인덱스에 <strong>user_dictionary_rules</strong>옵션을 이용하여 사용자 사전 <strong>&quot;해물&quot;</strong> 을 지정하고 <strong>&quot;동해물과&quot;</strong> 를 분석한 예제입니다.</p>
<div><div class="language-javascript euiCodeBlock euiCodeBlock--fontSmall euiCodeBlock--paddingSmall"><pre class="euiCodeBlock__pre euiCodeBlock__pre--whiteSpacePre" tabindex="-1"><code class="euiCodeBlock__code" data-code-language="javascript"><span class="euiCodeBlock__line"># my_nori 인덱스에 <span class="token string">&quot;해물&quot;</span> 사전을 추가한 my_nori_tokenizer 생성
</span><span class="euiCodeBlock__line"><span class="token constant">PUT</span> my_nori
</span><span class="euiCodeBlock__line"><span class="token punctuation">{</span>
</span><span class="euiCodeBlock__line">  <span class="token string">&quot;settings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="euiCodeBlock__line">    <span class="token string">&quot;analysis&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="euiCodeBlock__line">      <span class="token string">&quot;tokenizer&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="euiCodeBlock__line">        <span class="token string">&quot;my_nori_tokenizer&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="euiCodeBlock__line">          <span class="token string">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nori_tokenizer&quot;</span><span class="token punctuation">,</span>
</span><span class="euiCodeBlock__line">          <span class="token string">&quot;user_dictionary_rules&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
</span><span class="euiCodeBlock__line">            <span class="token string">&quot;해물&quot;</span>
</span><span class="euiCodeBlock__line">          <span class="token punctuation">]</span>
</span><span class="euiCodeBlock__line">        <span class="token punctuation">}</span>
</span><span class="euiCodeBlock__line">      <span class="token punctuation">}</span>
</span><span class="euiCodeBlock__line">    <span class="token punctuation">}</span>
</span><span class="euiCodeBlock__line">  <span class="token punctuation">}</span>
</span><span class="euiCodeBlock__line"><span class="token punctuation">}</span>
</span><span class="euiCodeBlock__line"></span></code></pre></div></div>
<div class="euiTabs euiTabs--small euiTabs--bottomBorder" role="tablist"><button role="tab" aria-selected="true" type="button" class="euiTab euiTab-isSelected" name="request"><span class="euiTab__content">request</span></button><button role="tab" aria-selected="false" type="button" class="euiTab" name="response"><span class="euiTab__content">response</span></button></div><div class="euiSpacer euiSpacer--l css-jz428s-euiSpacer-l"></div><div><div class="language-javascript euiCodeBlock euiCodeBlock--fontSmall euiCodeBlock--paddingSmall"><pre class="euiCodeBlock__pre euiCodeBlock__pre--whiteSpacePre" tabindex="-1"><code class="euiCodeBlock__code" data-code-language="javascript"><span class="euiCodeBlock__line"># my_nori_tokenizer 토크나이저로 <span class="token string">&quot;동해물과&quot;</span> 분석
</span><span class="euiCodeBlock__line"><span class="token constant">GET</span> my_nori<span class="token operator">/</span>_analyze
</span><span class="euiCodeBlock__line"><span class="token punctuation">{</span>
</span><span class="euiCodeBlock__line">  <span class="token string">&quot;tokenizer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;my_nori_tokenizer&quot;</span><span class="token punctuation">,</span>
</span><span class="euiCodeBlock__line">  <span class="token string">&quot;text&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
</span><span class="euiCodeBlock__line">    <span class="token string">&quot;동해물과&quot;</span>
</span><span class="euiCodeBlock__line">  <span class="token punctuation">]</span>
</span><span class="euiCodeBlock__line"><span class="token punctuation">}</span>
</span><span class="euiCodeBlock__line"></span></code></pre></div></div>
<p>이렇게 사용자 사전에 <strong>&quot;해물&quot;</strong> 이라는 단어를 추가하면 &quot;동해물과&quot; 는 <strong>&quot;동&quot;+&quot;해물&quot;+&quot;과&quot;</strong> 로 분석이 되어 이 문장이 포함된 도큐먼트는 &quot;동해&quot; 로는 검색이 되지 않고 **&quot;해물&quot;**로 검색이 됩니다.</p>
<p>&quot;백두산&quot; 은 &quot;백두&quot;+&quot;산&quot; 두 어근이 합쳐진 합성어 입니다. 보통 &quot;미역&quot;+&quot;국&quot; 같은 음식이나 &quot;서울&quot;+&quot;역&quot; 같은 역 이름에 합성어가 많습니다. 다음은 <strong>decompound_mode</strong> 의 3가지 옵션이 문장 &quot;백두산이&quot;을 각각 어떻게 분석되는지 확인하는 예제입니다.</p>
<div><div class="language-javascript euiCodeBlock euiCodeBlock--fontSmall euiCodeBlock--paddingSmall"><pre class="euiCodeBlock__pre euiCodeBlock__pre--whiteSpacePre" tabindex="-1"><code class="euiCodeBlock__code" data-code-language="javascript"><span class="euiCodeBlock__line"># decompound_mode 모드를 각각 none<span class="token punctuation">,</span> discard<span class="token punctuation">,</span> mixed 로 설정한 토크나이저 설장
</span><span class="euiCodeBlock__line"><span class="token constant">PUT</span> my_nori
</span><span class="euiCodeBlock__line"><span class="token punctuation">{</span>
</span><span class="euiCodeBlock__line">  <span class="token string">&quot;settings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="euiCodeBlock__line">    <span class="token string">&quot;analysis&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="euiCodeBlock__line">      <span class="token string">&quot;tokenizer&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="euiCodeBlock__line">        <span class="token string">&quot;nori_none&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="euiCodeBlock__line">          <span class="token string">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nori_tokenizer&quot;</span><span class="token punctuation">,</span>
</span><span class="euiCodeBlock__line">          <span class="token string">&quot;decompound_mode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;none&quot;</span>
</span><span class="euiCodeBlock__line">        <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="euiCodeBlock__line">        <span class="token string">&quot;nori_discard&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="euiCodeBlock__line">          <span class="token string">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nori_tokenizer&quot;</span><span class="token punctuation">,</span>
</span><span class="euiCodeBlock__line">          <span class="token string">&quot;decompound_mode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;discard&quot;</span>
</span><span class="euiCodeBlock__line">        <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="euiCodeBlock__line">        <span class="token string">&quot;nori_mixed&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="euiCodeBlock__line">          <span class="token string">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nori_tokenizer&quot;</span><span class="token punctuation">,</span>
</span><span class="euiCodeBlock__line">          <span class="token string">&quot;decompound_mode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;mixed&quot;</span>
</span><span class="euiCodeBlock__line">        <span class="token punctuation">}</span>
</span><span class="euiCodeBlock__line">      <span class="token punctuation">}</span>
</span><span class="euiCodeBlock__line">    <span class="token punctuation">}</span>
</span><span class="euiCodeBlock__line">  <span class="token punctuation">}</span>
</span><span class="euiCodeBlock__line"><span class="token punctuation">}</span>
</span><span class="euiCodeBlock__line"></span></code></pre></div></div>
<div class="euiTabs euiTabs--small euiTabs--bottomBorder" role="tablist"><button role="tab" aria-selected="true" type="button" class="euiTab euiTab-isSelected" name="request"><span class="euiTab__content">request</span></button><button role="tab" aria-selected="false" type="button" class="euiTab" name="response"><span class="euiTab__content">response</span></button></div><div class="euiSpacer euiSpacer--l css-jz428s-euiSpacer-l"></div><div><div class="language-javascript euiCodeBlock euiCodeBlock--fontSmall euiCodeBlock--paddingSmall"><pre class="euiCodeBlock__pre euiCodeBlock__pre--whiteSpacePre" tabindex="-1"><code class="euiCodeBlock__code" data-code-language="javascript"><span class="euiCodeBlock__line"># nori_none 토크나이저로 <span class="token string">&quot;백두산이&quot;</span> 분석
</span><span class="euiCodeBlock__line"><span class="token constant">GET</span> my_nori<span class="token operator">/</span>_analyze
</span><span class="euiCodeBlock__line"><span class="token punctuation">{</span>
</span><span class="euiCodeBlock__line">  <span class="token string">&quot;tokenizer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nori_none&quot;</span><span class="token punctuation">,</span>
</span><span class="euiCodeBlock__line">  <span class="token string">&quot;text&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">&quot;백두산이&quot;</span> <span class="token punctuation">]</span>
</span><span class="euiCodeBlock__line"><span class="token punctuation">}</span>
</span><span class="euiCodeBlock__line"></span></code></pre></div></div>
<div class="euiTabs euiTabs--small euiTabs--bottomBorder" role="tablist"><button role="tab" aria-selected="true" type="button" class="euiTab euiTab-isSelected" name="request"><span class="euiTab__content">request</span></button><button role="tab" aria-selected="false" type="button" class="euiTab" name="response"><span class="euiTab__content">response</span></button></div><div class="euiSpacer euiSpacer--l css-jz428s-euiSpacer-l"></div><div><div class="language-javascript euiCodeBlock euiCodeBlock--fontSmall euiCodeBlock--paddingSmall"><pre class="euiCodeBlock__pre euiCodeBlock__pre--whiteSpacePre" tabindex="-1"><code class="euiCodeBlock__code" data-code-language="javascript"><span class="euiCodeBlock__line"># nori_discard 토크나이저로 <span class="token string">&quot;백두산이&quot;</span> 분석
</span><span class="euiCodeBlock__line"><span class="token constant">GET</span> my_nori<span class="token operator">/</span>_analyze
</span><span class="euiCodeBlock__line"><span class="token punctuation">{</span>
</span><span class="euiCodeBlock__line">  <span class="token string">&quot;tokenizer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nori_discard&quot;</span><span class="token punctuation">,</span>
</span><span class="euiCodeBlock__line">  <span class="token string">&quot;text&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">&quot;백두산이&quot;</span> <span class="token punctuation">]</span>
</span><span class="euiCodeBlock__line"><span class="token punctuation">}</span>
</span><span class="euiCodeBlock__line"></span></code></pre></div></div>
<div class="euiTabs euiTabs--small euiTabs--bottomBorder" role="tablist"><button role="tab" aria-selected="true" type="button" class="euiTab euiTab-isSelected" name="request"><span class="euiTab__content">request</span></button><button role="tab" aria-selected="false" type="button" class="euiTab" name="response"><span class="euiTab__content">response</span></button></div><div class="euiSpacer euiSpacer--l css-jz428s-euiSpacer-l"></div><div><div class="language-javascript euiCodeBlock euiCodeBlock--fontSmall euiCodeBlock--paddingSmall"><pre class="euiCodeBlock__pre euiCodeBlock__pre--whiteSpacePre" tabindex="-1"><code class="euiCodeBlock__code" data-code-language="javascript"><span class="euiCodeBlock__line"># nori_mixed 토크나이저로 <span class="token string">&quot;백두산이&quot;</span> 분석
</span><span class="euiCodeBlock__line"><span class="token constant">GET</span> my_nori<span class="token operator">/</span>_analyze
</span><span class="euiCodeBlock__line"><span class="token punctuation">{</span>
</span><span class="euiCodeBlock__line">  <span class="token string">&quot;tokenizer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nori_mixed&quot;</span><span class="token punctuation">,</span>
</span><span class="euiCodeBlock__line">  <span class="token string">&quot;text&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">&quot;백두산이&quot;</span> <span class="token punctuation">]</span>
</span><span class="euiCodeBlock__line"><span class="token punctuation">}</span>
</span><span class="euiCodeBlock__line"></span></code></pre></div></div>
<p>각 설정에 따라 어근을 분리하거나 분리하지 않거나 모두 저장하는 것을 확인할 수 있습니다. <strong>decompound_mode</strong> 의 디폴트 값은 <strong>discard</strong> 입니다.</p>
<h3 id="nori_part_of_speech-와-품사-정보" style="position:relative"><a class="euiLink euiLink--primary docArticle__headerLink" href="#nori_part_of_speech-와-품사-정보" rel="noreferrer" aria-label="nori_part_of_speech 와 품사 정보 permalink"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" class="euiIcon euiIcon--medium" focusable="false" role="img" aria-hidden="true"><path d="M7.66 3.803a.5.5 0 11-.706-.707L9.268.78c1.187-1.187 3.242-1 4.596.354s1.54 3.409.354 4.596l-3.536 3.536c-1.187 1.187-3.242 1-4.596-.354a.5.5 0 11.707-.707c.99.99 2.417 1.119 3.182.354l3.536-3.536c.765-.765.635-2.193-.354-3.182-.99-.99-2.417-1.119-3.182-.354L7.661 3.803zm-.32 7.392a.5.5 0 11.707.707l-2.315 2.314c-1.187 1.188-3.242 1-4.596-.353-1.354-1.354-1.54-3.41-.353-4.596L4.318 5.73c1.187-1.187 3.242-1 4.596.354a.5.5 0 01-.707.707c-.989-.99-2.416-1.12-3.182-.354L1.49 9.974c-.766.765-.636 2.193.353 3.182.99.989 2.417 1.119 3.182.353l2.315-2.314z"></path></svg></a>nori_part_of_speech 와 품사 정보</h3>
<p>한글 검색에서는 보통 명사, 동명사 정도만을 검색하고 조사, 형용사 등은 제거하는 것이 바람직합니다. <strong>nori_part_of_speech</strong> 토큰 필터를 이용해서 제거할 <strong>품사(POS - Part Of Speech)</strong> 정보의 지정이 가능하며, 옵션 <strong>stoptags</strong> 값에 배열로 제외할 품사 코드를 나열해서 입력해서 사용합니다. 다음은 품사 코드의 일부 정보들입니다.</p>
<p><figure class="euiImage euiImage--hasShadow euiImage--allowFullScreen euiImage--original"><button type="button" aria-label="Open fullscreen (출처 : 꼬꼬마 한국어 형태소 분석기 - http://kkma.snu.ac.kr/documents/?doc=postag) image" class="euiImage__button" data-test-subj="activateFullScreenButton"><img src="/L1VzZXJzL2tpbWptaW4vZ2l0L2RvY3Mta3IvZXNndWlkZTc/assets/06-07_kokoma_postag.png" alt="(출처 : 꼬꼬마 한국어 형태소 분석기 - http://kkma.snu.ac.kr/documents/?doc=postag)" class="euiImage__img" title="(출처 : 꼬꼬마 한국어 형태소 분석기 - http://kkma.snu.ac.kr/documents/?doc=postag)"/><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" class="euiIcon euiIcon--medium euiIcon--ghost euiIcon-isLoading euiImage__icon" focusable="false" role="img" aria-hidden="true"></svg></button></figure></p>
<p>이 외의 품사 코드는 출처에 명시된 정보 페이지에서 찾을 수 있습니다. <strong>stoptags</strong>의 디폴트 값은 다음과 같습니다.</p>
<div><div class="language-javascript euiCodeBlock euiCodeBlock--fontSmall euiCodeBlock--paddingSmall"><pre class="euiCodeBlock__pre euiCodeBlock__pre--whiteSpacePre" tabindex="-1"><code class="euiCodeBlock__code" data-code-language="javascript"><span class="euiCodeBlock__line"><span class="token string">&quot;stoptags&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
</span><span class="euiCodeBlock__line">  <span class="token string">&quot;E&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;IC&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;J&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;MAG&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;MAJ&quot;</span><span class="token punctuation">,</span>
</span><span class="euiCodeBlock__line">  <span class="token string">&quot;MM&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;SP&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;SSC&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;SSO&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;SC&quot;</span><span class="token punctuation">,</span>
</span><span class="euiCodeBlock__line">  <span class="token string">&quot;SE&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;XPN&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;XSA&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;XSN&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;XSV&quot;</span><span class="token punctuation">,</span>
</span><span class="euiCodeBlock__line">  <span class="token string">&quot;UNA&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;NA&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;VSV&quot;</span>
</span><span class="euiCodeBlock__line"><span class="token punctuation">]</span>
</span><span class="euiCodeBlock__line"></span></code></pre></div></div>
<p>다음은 <strong>my_pos</strong> 인덱스에 **수사(NR)**를 제거하도록 <strong>stoptags</strong>를 지정하고 문장 **&quot;다섯아이가&quot;**를 분석한 예제입니다.</p>
<div><div class="language-javascript euiCodeBlock euiCodeBlock--fontSmall euiCodeBlock--paddingSmall"><pre class="euiCodeBlock__pre euiCodeBlock__pre--whiteSpacePre" tabindex="-1"><code class="euiCodeBlock__code" data-code-language="javascript"><span class="euiCodeBlock__line"># my_pos 인덱스에 <span class="token function">수사</span><span class="token punctuation">(</span><span class="token constant">NR</span><span class="token punctuation">)</span>을 제거하는 my_pos_f 토큰필터 지정
</span><span class="euiCodeBlock__line"><span class="token constant">PUT</span> my_pos
</span><span class="euiCodeBlock__line"><span class="token punctuation">{</span>
</span><span class="euiCodeBlock__line">  <span class="token string">&quot;settings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="euiCodeBlock__line">    <span class="token string">&quot;index&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="euiCodeBlock__line">      <span class="token string">&quot;analysis&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="euiCodeBlock__line">        <span class="token string">&quot;filter&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="euiCodeBlock__line">          <span class="token string">&quot;my_pos_f&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="euiCodeBlock__line">            <span class="token string">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nori_part_of_speech&quot;</span><span class="token punctuation">,</span>
</span><span class="euiCodeBlock__line">            <span class="token string">&quot;stoptags&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
</span><span class="euiCodeBlock__line">              <span class="token string">&quot;NR&quot;</span>
</span><span class="euiCodeBlock__line">            <span class="token punctuation">]</span>
</span><span class="euiCodeBlock__line">          <span class="token punctuation">}</span>
</span><span class="euiCodeBlock__line">        <span class="token punctuation">}</span>
</span><span class="euiCodeBlock__line">      <span class="token punctuation">}</span>
</span><span class="euiCodeBlock__line">    <span class="token punctuation">}</span>
</span><span class="euiCodeBlock__line">  <span class="token punctuation">}</span>
</span><span class="euiCodeBlock__line"><span class="token punctuation">}</span>
</span><span class="euiCodeBlock__line"></span></code></pre></div></div>
<div class="euiTabs euiTabs--small euiTabs--bottomBorder" role="tablist"><button role="tab" aria-selected="true" type="button" class="euiTab euiTab-isSelected" name="request"><span class="euiTab__content">request</span></button><button role="tab" aria-selected="false" type="button" class="euiTab" name="response"><span class="euiTab__content">response</span></button></div><div class="euiSpacer euiSpacer--l css-jz428s-euiSpacer-l"></div><div><div class="language-javascript euiCodeBlock euiCodeBlock--fontSmall euiCodeBlock--paddingSmall"><pre class="euiCodeBlock__pre euiCodeBlock__pre--whiteSpacePre" tabindex="-1"><code class="euiCodeBlock__code" data-code-language="javascript"><span class="euiCodeBlock__line"># my_pos_f 토큰필터로 <span class="token string">&quot;다섯아이가&quot;</span> 분석
</span><span class="euiCodeBlock__line"><span class="token constant">GET</span> my_pos<span class="token operator">/</span>_analyze
</span><span class="euiCodeBlock__line"><span class="token punctuation">{</span>
</span><span class="euiCodeBlock__line">  <span class="token string">&quot;tokenizer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nori_tokenizer&quot;</span><span class="token punctuation">,</span>
</span><span class="euiCodeBlock__line">  <span class="token string">&quot;filter&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
</span><span class="euiCodeBlock__line">    <span class="token string">&quot;my_pos_f&quot;</span>
</span><span class="euiCodeBlock__line">  <span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="euiCodeBlock__line">  <span class="token string">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;다섯아이가&quot;</span>
</span><span class="euiCodeBlock__line"><span class="token punctuation">}</span>
</span><span class="euiCodeBlock__line"></span></code></pre></div></div>
<p>본래 <strong>&quot;다섯&quot;+&quot;아이&quot;+&quot;가&quot;</strong> 로 분석되어야 할 문장에서 수사인 **&quot;다섯&quot;**이 제거 된 것을 확인할 수 있습니다.</p>
<h3 id="nori_readingform" style="position:relative"><a class="euiLink euiLink--primary docArticle__headerLink" href="#nori_readingform" rel="noreferrer" aria-label="nori_readingform permalink"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" class="euiIcon euiIcon--medium" focusable="false" role="img" aria-hidden="true"><path d="M7.66 3.803a.5.5 0 11-.706-.707L9.268.78c1.187-1.187 3.242-1 4.596.354s1.54 3.409.354 4.596l-3.536 3.536c-1.187 1.187-3.242 1-4.596-.354a.5.5 0 11.707-.707c.99.99 2.417 1.119 3.182.354l3.536-3.536c.765-.765.635-2.193-.354-3.182-.99-.99-2.417-1.119-3.182-.354L7.661 3.803zm-.32 7.392a.5.5 0 11.707.707l-2.315 2.314c-1.187 1.188-3.242 1-4.596-.353-1.354-1.354-1.54-3.41-.353-4.596L4.318 5.73c1.187-1.187 3.242-1 4.596.354a.5.5 0 01-.707.707c-.989-.99-2.416-1.12-3.182-.354L1.49 9.974c-.766.765-.636 2.193.353 3.182.99.989 2.417 1.119 3.182.353l2.315-2.314z"></path></svg></a>nori_readingform</h3>
<p><strong>nori_readingform</strong> 토큰 필터는 한자로 된 단어를 한글로 바꾸어 저장을 합니다. 별도의 옵션 없이 토큰필터로 명시하면 바로 적용이 가능합니다. 다음은 &quot;春夏秋冬&quot;(춘하추동)을 nori_readingform 토큰 필터를 사용해서 한글로 변형하는 예제입니다.</p>
<div class="euiTabs euiTabs--small euiTabs--bottomBorder" role="tablist"><button role="tab" aria-selected="true" type="button" class="euiTab euiTab-isSelected" name="request"><span class="euiTab__content">request</span></button><button role="tab" aria-selected="false" type="button" class="euiTab" name="response"><span class="euiTab__content">response</span></button></div><div class="euiSpacer euiSpacer--l css-jz428s-euiSpacer-l"></div><div><div class="language-javascript euiCodeBlock euiCodeBlock--fontSmall euiCodeBlock--paddingSmall"><pre class="euiCodeBlock__pre euiCodeBlock__pre--whiteSpacePre" tabindex="-1"><code class="euiCodeBlock__code" data-code-language="javascript"><span class="euiCodeBlock__line"># nori_readingform 토큰필터로 <span class="token string">&quot;春夏秋冬&quot;</span><span class="token punctuation">(</span>춘하추동<span class="token punctuation">)</span> 분석
</span><span class="euiCodeBlock__line"><span class="token constant">GET</span> _analyze
</span><span class="euiCodeBlock__line"><span class="token punctuation">{</span>
</span><span class="euiCodeBlock__line">  <span class="token string">&quot;tokenizer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nori_tokenizer&quot;</span><span class="token punctuation">,</span>
</span><span class="euiCodeBlock__line">  <span class="token string">&quot;filter&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
</span><span class="euiCodeBlock__line">    <span class="token string">&quot;nori_readingform&quot;</span>
</span><span class="euiCodeBlock__line">  <span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="euiCodeBlock__line">  <span class="token string">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;春夏秋冬&quot;</span>
</span><span class="euiCodeBlock__line"><span class="token punctuation">}</span>
</span><span class="euiCodeBlock__line"></span></code></pre></div></div>
<h3 id="explain--true-옵션" style="position:relative"><a class="euiLink euiLink--primary docArticle__headerLink" href="#explain--true-옵션" rel="noreferrer" aria-label="explain : true 옵션 permalink"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" class="euiIcon euiIcon--medium" focusable="false" role="img" aria-hidden="true"><path d="M7.66 3.803a.5.5 0 11-.706-.707L9.268.78c1.187-1.187 3.242-1 4.596.354s1.54 3.409.354 4.596l-3.536 3.536c-1.187 1.187-3.242 1-4.596-.354a.5.5 0 11.707-.707c.99.99 2.417 1.119 3.182.354l3.536-3.536c.765-.765.635-2.193-.354-3.182-.99-.99-2.417-1.119-3.182-.354L7.661 3.803zm-.32 7.392a.5.5 0 11.707.707l-2.315 2.314c-1.187 1.188-3.242 1-4.596-.353-1.354-1.354-1.54-3.41-.353-4.596L4.318 5.73c1.187-1.187 3.242-1 4.596.354a.5.5 0 01-.707.707c-.989-.99-2.416-1.12-3.182-.354L1.49 9.974c-.766.765-.636 2.193.353 3.182.99.989 2.417 1.119 3.182.353l2.315-2.314z"></path></svg></a>explain : true 옵션</h3>
<p>query 또는 _analuze API 에서 <code class="euiCode" data-code-language="text">&quot;explain&quot;: true</code> 옵션을 추가하면 분석된 한글 형태소들의 품사 정보를 같이 볼 수 있습니다. <strong>explain</strong> 옵션은 nori 외에도 대부분의 애널라이저나 쿼리에서 사용하면 확장된 정보를 보여줍니다. 다음은 <strong>&quot;동해물과 백두산이&quot;</strong> 문장을 분석하면서 explain 옵션을 추가하여 상세 정보를 본 예제입니다.</p>
<div class="euiTabs euiTabs--small euiTabs--bottomBorder" role="tablist"><button role="tab" aria-selected="true" type="button" class="euiTab euiTab-isSelected" name="request"><span class="euiTab__content">request</span></button><button role="tab" aria-selected="false" type="button" class="euiTab" name="response"><span class="euiTab__content">response</span></button></div><div class="euiSpacer euiSpacer--l css-jz428s-euiSpacer-l"></div><div><div class="language-javascript euiCodeBlock euiCodeBlock--fontSmall euiCodeBlock--paddingSmall"><pre class="euiCodeBlock__pre euiCodeBlock__pre--whiteSpacePre" tabindex="-1"><code class="euiCodeBlock__code" data-code-language="javascript"><span class="euiCodeBlock__line"># <span class="token string">&quot;explain&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span> 옵션을 이용해서 분석 정보 표시
</span><span class="euiCodeBlock__line"><span class="token constant">GET</span> _analyze
</span><span class="euiCodeBlock__line"><span class="token punctuation">{</span>
</span><span class="euiCodeBlock__line">  <span class="token string">&quot;tokenizer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nori_tokenizer&quot;</span><span class="token punctuation">,</span>
</span><span class="euiCodeBlock__line">  <span class="token string">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;동해물과 백두산이&quot;</span><span class="token punctuation">,</span>
</span><span class="euiCodeBlock__line">  <span class="token string">&quot;explain&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
</span><span class="euiCodeBlock__line"><span class="token punctuation">}</span>
</span><span class="euiCodeBlock__line"></span></code></pre></div></div>
<p>이번 장에서는 elasticsearch가 데이터를 저장하는 색인 과정에서 처리하는 수많은 작업들에 대해 알아보았습니다. 텍스트 분석 및 텀의 개념과, 데이터 분석에 사용되는 애널라이저, 토크나이저, 토큰 필터, 캐릭터 필터 도구들에 대해 학습을 했습니다. 이런 텍스트 데이터 처리 과정을 통해 Elasticsearch는 빠른 풀 텍스트 검색 기능을 제공하며 다양한 방법으로 데이터를 다룰 수 있도록 합니다.</p>
<p>다음 장에서는 인덱스의 세팅 및 매핑 설정 방법과 다양한 형태의 필드들에 대해 알아보도록 하겠습니다.</p></div><div class="euiSpacer euiSpacer--l css-jz428s-euiSpacer-l"></div><div class="euiText euiText--small"><div class="euiTextColor euiTextColor--subdued">Last updated: Jan 25th, 2022</div></div></div></div></div></div></div></div><footer class="docChromeFooter" data-elastic-exclude="true"><div class="euiFlexGroup euiFlexGroup--justifyContentSpaceAround euiFlexGroup--directionRow euiFlexGroup--responsive"><div class="euiFlexItem euiFlexItem--flexGrowZero docChromeFooter__container"><div class="euiFlexGroup euiFlexGroup--gutterExtraLarge euiFlexGroup--justifyContentSpaceBetween euiFlexGroup--directionRow euiFlexGroup--responsive"><div class="euiFlexItem"><div class="euiText euiText--small"><div class="euiTextColor euiTextColor--ghost"><p>Elasticsearch is a trademark of Elasticsearch B.V., registered in the U.S. and in other countries.</p><p>Apache, Apache Lucene, Apache Hadoop, Hadoop, HDFS and the yellow elephant logo are trademarks of the Apache Software Foundation in the United States and/or other countries.</p><p> <a class="euiLink euiLink--ghost" href="https://www.elastic.co/legal/trademarks" rel="">Trademarks</a><span class="docChromeFooter__divide">|</span><a class="euiLink euiLink--ghost" href="https://www.elastic.co/legal/terms-of-use" rel="">Terms of Use</a><span class="docChromeFooter__divide">|</span><a class="euiLink euiLink--ghost" href="https://www.elastic.co/legal/privacy-statement" rel="">Privacy</a><span class="docChromeFooter__divide">|</span>© <!-- -->2022<!-- --> Elasticsearch B.V. All Rights Reserved</p></div></div></div><div class="euiFlexItem euiFlexItem--flexGrowZero"></div><div class="euiFlexItem euiFlexItem--flexGrowZero"><figure class="euiImage docChromeFooter__logo"><img style="max-width:xs;max-height:xs;width:auto" src="/assets/images/logo-elastic-vertical-reverse.svg" class="euiImage__img" alt="Elastic logo"/></figure></div></div></div></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"bundle":"!function(e,n){\"object\"==typeof exports\u0026\u0026\"object\"==typeof module?module.exports=n(require(\"mdxJsReact\"),require(\"React\")):\"function\"==typeof define\u0026\u0026define.amd?define([\"mdxJsReact\",\"React\"],n):\"object\"==typeof exports?exports.MDXContent=n(require(\"mdxJsReact\"),require(\"React\")):e.MDXContent=n(e.mdxJsReact,e.React)}(this,((e,n)=\u003e(()=\u003e{\"use strict\";var t={24:e=\u003e{e.exports=n},825:n=\u003e{n.exports=e}},l={};function r(e){var n=l[e];if(void 0!==n)return n.exports;var a=l[e]={exports:{}};return t[e](a,a.exports,r),a.exports}r.n=e=\u003e{var n=e\u0026\u0026e.__esModule?()=\u003ee.default:()=\u003ee;return r.d(n,{a:n}),n},r.d=(e,n)=\u003e{for(var t in n)r.o(n,t)\u0026\u0026!r.o(e,t)\u0026\u0026Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},r.o=(e,n)=\u003eObject.prototype.hasOwnProperty.call(e,n),r.r=e=\u003e{\"undefined\"!=typeof Symbol\u0026\u0026Symbol.toStringTag\u0026\u0026Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})};var a={};return(()=\u003e{r.r(a),r.d(a,{default:()=\u003el});var e=r(825),n=r(24),t=r.n(n);const l=function(){var n=arguments.length\u003e0\u0026\u0026void 0!==arguments[0]?arguments[0]:{},l=Object.assign({},(0,e.useMDXComponents)(),n.components),r=l.wrapper;return r?t().createElement(r,n,t().createElement(a)):a();function a(){var l=Object.assign({p:\"p\",strong:\"strong\",h2:\"h2\",h3:\"h3\",ul:\"ul\",li:\"li\",a:\"a\",pre:\"pre\",code:\"code\",img:\"img\"},(0,e.useMDXComponents)(),n.components),r=l.DocLink,a=l.DocTabs,s=l.DocTab;return r||o(\"DocLink\",!0),s||o(\"DocTab\",!0),a||o(\"DocTabs\",!0),t().createElement(t().Fragment,null,t().createElement(l.p,null,\"우리가 사용하는 언어들은 영어만 보더라도 문법에 따라 명사 뒤에 \",t().createElement(l.strong,null,\"~s\"),\", \",t().createElement(l.strong,null,\"~ness\"),\" 등이 붙거나 동사 뒤에 \",t().createElement(l.strong,null,\"~ing\"),\", \",t().createElement(l.strong,null,\"~ed\"),\" 등이 붙는 등 변화가 많습니다. 검색을 할 때는 보통 이런 문법에 따른 단어의 변형에 상관 없이 검색이 가능해야 하기 때문에 텍스트 데이터를 분석할 때 각각의 텀에 있는 단어들을 기본 형태인 어간을 추출하는 과정을 진행해야 합니다. 이 과정을 보통 \",t().createElement(l.strong,null,\"어간 추출\"),\" 또는 \",t().createElement(l.strong,null,\"형태소 분석\"),\" 이라고 하며 영어로는 \",t().createElement(l.strong,null,\"stemming\"),\" 이라고 합니다. 그리고 형태소 분석을 하는 도구를 형태소 분석기, 영어로는 \",t().createElement(l.strong,null,\"stemmer\"),\" 라고 합니다.\"),\"\\n\",t().createElement(l.p,null,\"Elasticsearch 에서는 다양한 형태소 분석기들을 지원하며 Elastic사에서 공식적으로 지원하지 않는 국가의 언어들도 플러그인 형태로 사용 가능하도록 오픈소스로 배포되는 분석기들이 많이 있습니다. Elasticsearch 에서 사용 가능한 형태소 분석기 중에서 가장 많이 알려진 형태소 분석 알고리즘인 Snowball 과 한글 형태소 분석기인 Nori에 대해 살펴보도록 하겠습니다.\"),\"\\n\",t().createElement(l.h2,{id:\"671-snowball\"},\"6.7.1 Snowball\"),\"\\n\",t().createElement(l.p,null,t().createElement(l.strong,null,\"Snowball\"),\" 은 2000년 경에 정보 검색의 선구자인 마틴 포터 박사가 개발하여 무료로 공개한 형태소 분석 알고리즘입니다. 보통 ~ing, ~s 등을 제거하여 문장에 쓰인 단어들을 기본 형태로 변경합니다. Elasticsearch 에서 Snowball 은 애널라이저, 토크나이저, 토큰 필터가 모두 정의되어 있으며 사용 방법은 앞의 \",t().createElement(r,{id:\"esG7-06-03-analyzer\",text:\"사용자 정의 애널라이저\"}),\" 부분에 설명되어 있으니 기억나지 않으면 앞으로 가서 다시 확인 해 보시기 바랍니다.\"),\"\\n\",t().createElement(l.h2,{id:\"672-노리-nori-한글-형태소-분석기\"},\"6.7.2 노리 (nori) 한글 형태소 분석기\"),\"\\n\",t().createElement(l.h3,{id:\"커뮤니티-한글-형태소-분석기---아리랑-은전한닢-open-korean-text\"},\"커뮤니티 한글 형태소 분석기 - 아리랑, 은전한닢, Open Korean Text\"),\"\\n\",t().createElement(l.p,null,\"한글은 형태의 변형이 매우 복잡한 언어입니다. 특히 복합어, 합성어 등이 많아 하나의 단어도 여러 어간으로 분리해야 하는 경우가 많아 한글을 형태소 분석을 하려면 반드시 한글 형태소 사전이 필요합니다. 오픈 소스 커뮤니티에서 개발되어 Elasticsearch에서 사용 가능한 한글 형태소 분석기는 다음과 같은 것들이 있습니다.\"),\"\\n\",t().createElement(l.ul,null,\"\\n\",t().createElement(l.li,null,t().createElement(l.strong,null,\"아리랑 (arirang)\"),\"\\n\",t().createElement(l.ul,null,\"\\n\",t().createElement(l.li,null,\"URL: \",t().createElement(l.a,{href:\"https://github.com/HowookJeong/elasticsearch-analysis-arirang\"},\"https://github.com/HowookJeong/elasticsearch-analysis-arirang\")),\"\\n\",t().createElement(l.li,null,\"설명: korean analyzer (lucene analyzer kr arirang)\"),\"\\n\",t().createElement(l.li,null,\"License: as-is\"),\"\\n\"),\"\\n\"),\"\\n\",t().createElement(l.li,null,t().createElement(l.strong,null,\"은전한닢 (seunjeon)\"),\"\\n\",t().createElement(l.ul,null,\"\\n\",t().createElement(l.li,null,\"URL: \",t().createElement(l.a,{href:\"https://bitbucket.org/eunjeon/seunjeon\"},\"https://bitbucket.org/eunjeon/seunjeon\")),\"\\n\",t().createElement(l.li,null,\"설명: mecab-ko-dic 기반으로 만들어진 JVM 상에서 돌아가는 한국어 형태소분석기입니다. 기본적으로 java와 scala 인터페이스를 제공합니다. 사전이 패키지 내에 포함되어 있기 때문에 별도로 mecab-ko-dic을 설치할 필요가 없습니다. 특징으로는 (시스템 사전에 등록되어 있는 단어에 한하여) 복합명사 분해와 활용어 원형 찾기가 가능합니다.\"),\"\\n\",t().createElement(l.li,null,\"License: Apache 2.0\"),\"\\n\"),\"\\n\"),\"\\n\",t().createElement(l.li,null,t().createElement(l.strong,null,\"Open Korean Text\"),\"\\n\",t().createElement(l.ul,null,\"\\n\",t().createElement(l.li,null,\"URL: \",t().createElement(l.a,{href:\"https://github.com/open-korean-text/open-korean-text\"},\"https://github.com/open-korean-text/open-korean-text\")),\"\\n\",t().createElement(l.li,null,\"설명: 오픈소스 한국어 처리기 (Official Fork of twitter-korean-text). 스칼라로 쓰여진 한국어 처리기입니다. 현재 텍스트 정규화와 형태소 분석, 스테밍을 지원하고 있습니다. 짧은 트윗은 물론이고 긴 글도 처리할 수 있습니다.\"),\"\\n\",t().createElement(l.li,null,\"License: Apache 2.0\"),\"\\n\"),\"\\n\"),\"\\n\"),\"\\n\",t().createElement(l.p,null,\"(\",t().createElement(l.a,{href:\"https://www.elastic.co/kr/blog/using-korean-analyzers\"},\"https://www.elastic.co/kr/blog/using-korean-analyzers\"),\" 에서 발췌)\"),\"\\n\",t().createElement(l.p,null,\"Elasticsearch가 한글을 지원하지 않던 시절에 위의 형태소 분석기들은 한글 사용자들에게 큰 도움이 되었습니다. 하지만 외부에서 만들어진 기능이다 보니 Elasticsearch 버전이 올라가 구조가 변경되면 사용이 불가능해지고, 버그가 오류가 있어도 누군가가 나서서 쉽게 고치기 어려운 문제가 있었습니다.\"),\"\\n\",t().createElement(l.h3,{id:\"nori-개요\"},\"Nori 개요\"),\"\\n\",t().createElement(l.p,null,\"Elasticsearch 6.6 버전 부터 공식적으로 \",t().createElement(l.strong,null,\"Nori(노리)\"),\" 라고 하는 한글 형태소 분석기를 Elastic사에서 공식적으로 개발해서 지원을 하기 시작했습니다. 특이하게 nori는 프랑스 엔지니어인 \",t().createElement(l.a,{href:\"https://github.com/jimczi\"},\"Jim Ferenczi\"),\" 에 의해 처음 개발이 되었습니다. Jim 은 아파치 루씬의 커미터이며 Elasticsearch의 일본어 형태소 분석기인 \",t().createElement(l.strong,null,\"Kuromoji(구로모지)\"),\" 역시 Jim 이 처음 개발했습니다. Nori 는 \",t().createElement(l.strong,null,\"은전한닢\"),\"에서 사용하는 \",t().createElement(l.strong,null,\"mecab-ko-dic\"),\" 사전을 재 가공 하여 사용하고 있습니다. Nori 는 루씬의 기능으로 개발되었으며 루씬 소스에 반영되어 있으며 개발 이력은\\n\",t().createElement(l.a,{href:\"https://issues.apache.org/jira/browse/LUCENE-8231\"},\"https://issues.apache.org/jira/browse/LUCENE-8231\"),\"\\n에서 확인 할 수 있고 프로그램 소스는\\n\",t().createElement(l.a,{href:\"https://github.com/apache/lucene-solr/tree/master/lucene/analysis/nori\"},\"https://github.com/apache/lucene-solr/tree/master/lucene/analysis/nori\"),\"\\n에서 확인이 가능합니다.\"),\"\\n\",t().createElement(l.p,null,\"Nori 에 관련한 설명은 공식 홈페이지의 문서 페이지의 \",t().createElement(l.a,{href:\"https://www.elastic.co/guide/en/elasticsearch/plugins/current/analysis-nori.html\"},\"Elasticsearch : Plugins and Integrations \u003e Analysis Plugins \u003e Nori\"),\" 페이지에서 찾을 수 있습니다.\"),\"\\n\",t().createElement(l.h3,{id:\"nori-설치\"},\"Nori 설치\"),\"\\n\",t().createElement(l.p,null,\"Nori 를 사용하기 위해서는 먼저 elasticsearch에 analysis-nori 플러그인을 설치해야 합니다. elasticsearch 홈 디렉토리에서 다음 명령을 실행하면 버전에 맞는 nori 플러그인을 받아서 자동으로 설치합니다.\"),\"\\n\",t().createElement(l.pre,null,t().createElement(l.code,{className:\"language-bash\",display:\"block\"},\"# nori 플러그인 설치\\n$ bin/elasticsearch-plugin install analysis-nori\\n\")),\"\\n\",t().createElement(l.p,null,\"설치된 nori 플러그인을 제거하려면 다음 명령을 실행합니다.\"),\"\\n\",t().createElement(l.pre,null,t().createElement(l.code,{className:\"language-bash\",display:\"block\"},\"# nori 플러그인 제거\\n$ bin/elasticsearch-plugin remove analysis-nori\\n\")),\"\\n\",t().createElement(l.p,null,t().createElement(l.a,{href:\"https://cloud.elastic.co/\"},\"Elastic 클라우드 서비스\"),\"에서 사용하기 위해서는 클러스터를 배포할 때 Customize deployment 메뉴의 Manage plugins and settings 부분에서 analysis-nori 부분을 선택합니다.\"),\"\\n\",t().createElement(l.p,null,t().createElement(l.img,{src:\"/L1VzZXJzL2tpbWptaW4vZ2l0L2RvY3Mta3IvZXNndWlkZTc/assets/06-07_install_nori_cloud.png\",alt:\"Elastic Cloud 서비스에서 nori 설치\"})),\"\\n\",t().createElement(l.h3,{id:\"nori_tokenizer\"},\"nori_tokenizer\"),\"\\n\",t().createElement(l.p,null,\"Nori는 \",t().createElement(l.strong,null,\"nori_tokenizer\"),\" 토크나이저와 \",t().createElement(l.strong,null,\"nori_part_of_speech\"),\", \",t().createElement(l.strong,null,\"nori_readingform\"),\" 토큰 필터를 제공합니다. 먼저 nori_tokenizer 토크나이저를 사용해서 한글을 간단하게 테스트 할 수 있습니다. 다음은 standard와 nori_tokenizer 를 비교해서 \",t().createElement(l.strong,null,'\"동해물과 백두산이\"'),\" 를 분석한 예제입니다. 당연히 테스트 하는 elasticsearch 에는 analysis-nori 플러그인이 설치되어 있어야 합니다.\"),\"\\n\",t().createElement(a,null,t().createElement(s,{name:\"request\"},t().createElement(l.pre,null,t().createElement(l.code,{className:\"language-javascript\",display:\"block\"},'# standard 토크나이저로 \"동해물과 백두산이\" 문장 분석\\nGET _analyze\\n{\\n  \"tokenizer\": \"standard\",\\n  \"text\": [\\n    \"동해물과 백두산이\"\\n  ]\\n}\\n'))),t().createElement(s,{name:\"response\"},t().createElement(l.pre,null,t().createElement(l.code,{className:\"language-javascript\",display:\"block\"},'# standard 토크나이저로 \"동해물과 백두산이\" 문장 분석 결과\\n{\\n  \"tokens\" : [\\n    {\\n      \"token\" : \"동해물과\",\\n      \"start_offset\" : 0,\\n      \"end_offset\" : 4,\\n      \"type\" : \"\u003cHANGUL\u003e\",\\n      \"position\" : 0\\n    },\\n    {\\n      \"token\" : \"백두산이\",\\n      \"start_offset\" : 5,\\n      \"end_offset\" : 9,\\n      \"type\" : \"\u003cHANGUL\u003e\",\\n      \"position\" : 1\\n    }\\n  ]\\n}\\n')))),\"\\n\",t().createElement(a,null,t().createElement(s,{name:\"request\"},t().createElement(l.pre,null,t().createElement(l.code,{className:\"language-javascript\",display:\"block\"},'# nori_tokenizer 토크나이저로 \"동해물과 백두산이\" 문장 분석\\nGET _analyze\\n{\\n  \"tokenizer\": \"nori_tokenizer\",\\n  \"text\": [\\n    \"동해물과 백두산이\"\\n  ]\\n}\\n'))),t().createElement(s,{name:\"response\"},t().createElement(l.pre,null,t().createElement(l.code,{className:\"language-javascript\",display:\"block\"},'# nori_tokenizer 토크나이저로 \"동해물과 백두산이\" 문장 분석 결과\\n{\\n  \"tokens\" : [\\n    {\\n      \"token\" : \"동해\",\\n      \"start_offset\" : 0,\\n      \"end_offset\" : 2,\\n      \"type\" : \"word\",\\n      \"position\" : 0\\n    },\\n    {\\n      \"token\" : \"물\",\\n      \"start_offset\" : 2,\\n      \"end_offset\" : 3,\\n      \"type\" : \"word\",\\n      \"position\" : 1\\n    },\\n    {\\n      \"token\" : \"과\",\\n      \"start_offset\" : 3,\\n      \"end_offset\" : 4,\\n      \"type\" : \"word\",\\n      \"position\" : 2\\n    },\\n    {\\n      \"token\" : \"백두\",\\n      \"start_offset\" : 5,\\n      \"end_offset\" : 7,\\n      \"type\" : \"word\",\\n      \"position\" : 3\\n    },\\n    {\\n      \"token\" : \"산\",\\n      \"start_offset\" : 7,\\n      \"end_offset\" : 8,\\n      \"type\" : \"word\",\\n      \"position\" : 4\\n    },\\n    {\\n      \"token\" : \"이\",\\n      \"start_offset\" : 8,\\n      \"end_offset\" : 9,\\n      \"type\" : \"word\",\\n      \"position\" : 5\\n    }\\n  ]\\n}\\n')))),\"\\n\",t().createElement(l.p,null,\"Standard 토크나이저는 공백 외에 아무런 분리를 하지 못했지만 nori_tokenizer는 한국어 사전 정보를 이용해 \",t().createElement(l.code,{display:\"inline\"},'\"token\" : \"동해\"'),\", \",t().createElement(l.code,{display:\"inline\"},'\"token\" : \"산\"'),\" 같은 단어을 분리 한 것을 확인할 수 있습니다. nori_tokenizer 에는 다음과 같은 옵션들이 있습니다.\"),\"\\n\",t().createElement(l.ul,null,\"\\n\",t().createElement(l.li,null,t().createElement(l.strong,null,\"user_dictionary\"),\" : 사용자 사전이 저장된 파일의 경로를 입력합니다.\"),\"\\n\",t().createElement(l.li,null,t().createElement(l.strong,null,\"user_dictionary_rules\"),\" : 사용자 정의 사전을 배열로 입력합니다.\"),\"\\n\",t().createElement(l.li,null,t().createElement(l.strong,null,\"decompound_mode\"),\" : 합성어의 저장 방식을 결정합니다. 다음 3개의 값을 사용 가능합니다.\",\"\\n\",t().createElement(l.ul,null,\"\\n\",t().createElement(l.li,null,t().createElement(l.code,{display:\"inline\"},\"none\"),\" : 어근을 분리하지 않고 완성된 합성어만 저장합니다.\"),\"\\n\",t().createElement(l.li,null,t().createElement(l.code,{display:\"inline\"},\"discard\"),\" (디폴트) : 합성어를 분리하여 각 어근만 저장합니다.\"),\"\\n\",t().createElement(l.li,null,t().createElement(l.code,{display:\"inline\"},\"mixed\"),\" : 어근과 합성어를 모두 저장합니다.\"),\"\\n\"),\"\\n\"),\"\\n\"),\"\\n\",t().createElement(l.p,null,t().createElement(l.strong,null,\"user_dictionary\"),\"는 다른 애널라이저들과 마찬가지로 config 디렉토리의 상대 경로를 입력하며 변경시 인덱스를 _close / _open 하면 반영됩니다. 사전의 단어들에는 우선순위가 있으며 문장 \",t().createElement(l.strong,null,'\"동해물과\"'),\" 에서는 \",t().createElement(l.strong,null,'\"동해\"'),' 가 가장 우선순위가 높아 \"동해\" 가 먼저 추출되고 다시 ',t().createElement(l.strong,null,'\"물\"'),\" 그리고 \",t().createElement(l.strong,null,'\"과\"'),\" 가 추출되어 \",t().createElement(l.strong,null,'\"동해\"+\"물\"+\"과\"'),\" 같은 형태가 됩니다. user_dictionary 경로에 있는 사전 파일이나 user_dictionary_rules 설정값에 단어만 나열 해 주면 이 단어들을 가장 우선으로 추출합니다.\"),\"\\n\",t().createElement(l.p,null,\"다음은 \",t().createElement(l.strong,null,\"my_nori\"),\" 인덱스에 \",t().createElement(l.strong,null,\"user_dictionary_rules\"),\"옵션을 이용하여 사용자 사전 \",t().createElement(l.strong,null,'\"해물\"'),\" 을 지정하고 \",t().createElement(l.strong,null,'\"동해물과\"'),\" 를 분석한 예제입니다.\"),\"\\n\",t().createElement(l.pre,null,t().createElement(l.code,{className:\"language-javascript\",display:\"block\"},'# my_nori 인덱스에 \"해물\" 사전을 추가한 my_nori_tokenizer 생성\\nPUT my_nori\\n{\\n  \"settings\": {\\n    \"analysis\": {\\n      \"tokenizer\": {\\n        \"my_nori_tokenizer\": {\\n          \"type\": \"nori_tokenizer\",\\n          \"user_dictionary_rules\": [\\n            \"해물\"\\n          ]\\n        }\\n      }\\n    }\\n  }\\n}\\n')),\"\\n\",t().createElement(a,null,t().createElement(s,{name:\"request\"},t().createElement(l.pre,null,t().createElement(l.code,{className:\"language-javascript\",display:\"block\"},'# my_nori_tokenizer 토크나이저로 \"동해물과\" 분석\\nGET my_nori/_analyze\\n{\\n  \"tokenizer\": \"my_nori_tokenizer\",\\n  \"text\": [\\n    \"동해물과\"\\n  ]\\n}\\n'))),t().createElement(s,{name:\"response\"},t().createElement(l.pre,null,t().createElement(l.code,{className:\"language-javascript\",display:\"block\"},'# my_nori_tokenizer 토크나이저로 \"동해물과\" 분석 결과\\n{\\n  \"tokens\" : [\\n    {\\n      \"token\" : \"동\",\\n      \"start_offset\" : 0,\\n      \"end_offset\" : 1,\\n      \"type\" : \"word\",\\n      \"position\" : 0\\n    },\\n    {\\n      \"token\" : \"해물\",\\n      \"start_offset\" : 1,\\n      \"end_offset\" : 3,\\n      \"type\" : \"word\",\\n      \"position\" : 1\\n    },\\n    {\\n      \"token\" : \"과\",\\n      \"start_offset\" : 3,\\n      \"end_offset\" : 4,\\n      \"type\" : \"word\",\\n      \"position\" : 2\\n    }\\n  ]\\n}\\n')))),\"\\n\",t().createElement(l.p,null,\"이렇게 사용자 사전에 \",t().createElement(l.strong,null,'\"해물\"'),' 이라는 단어를 추가하면 \"동해물과\" 는 ',t().createElement(l.strong,null,'\"동\"+\"해물\"+\"과\"'),' 로 분석이 되어 이 문장이 포함된 도큐먼트는 \"동해\" 로는 검색이 되지 않고 **\"해물\"**로 검색이 됩니다.'),\"\\n\",t().createElement(l.p,null,'\"백두산\" 은 \"백두\"+\"산\" 두 어근이 합쳐진 합성어 입니다. 보통 \"미역\"+\"국\" 같은 음식이나 \"서울\"+\"역\" 같은 역 이름에 합성어가 많습니다. 다음은 ',t().createElement(l.strong,null,\"decompound_mode\"),' 의 3가지 옵션이 문장 \"백두산이\"을 각각 어떻게 분석되는지 확인하는 예제입니다.'),\"\\n\",t().createElement(l.pre,null,t().createElement(l.code,{className:\"language-javascript\",display:\"block\"},'# decompound_mode 모드를 각각 none, discard, mixed 로 설정한 토크나이저 설장\\nPUT my_nori\\n{\\n  \"settings\": {\\n    \"analysis\": {\\n      \"tokenizer\": {\\n        \"nori_none\": {\\n          \"type\": \"nori_tokenizer\",\\n          \"decompound_mode\": \"none\"\\n        },\\n        \"nori_discard\": {\\n          \"type\": \"nori_tokenizer\",\\n          \"decompound_mode\": \"discard\"\\n        },\\n        \"nori_mixed\": {\\n          \"type\": \"nori_tokenizer\",\\n          \"decompound_mode\": \"mixed\"\\n        }\\n      }\\n    }\\n  }\\n}\\n')),\"\\n\",t().createElement(a,null,t().createElement(s,{name:\"request\"},t().createElement(l.pre,null,t().createElement(l.code,{className:\"language-javascript\",display:\"block\"},'# nori_none 토크나이저로 \"백두산이\" 분석\\nGET my_nori/_analyze\\n{\\n  \"tokenizer\": \"nori_none\",\\n  \"text\": [ \"백두산이\" ]\\n}\\n'))),t().createElement(s,{name:\"response\"},t().createElement(l.pre,null,t().createElement(l.code,{className:\"language-javascript\",display:\"block\"},'# nori_none 토크나이저로 \"백두산이\" 분석 결과\\n{\\n  \"tokens\" : [\\n    {\\n      \"token\" : \"백두산\",\\n      \"start_offset\" : 0,\\n      \"end_offset\" : 3,\\n      \"type\" : \"word\",\\n      \"position\" : 0\\n    },\\n    {\\n      \"token\" : \"이\",\\n      \"start_offset\" : 3,\\n      \"end_offset\" : 4,\\n      \"type\" : \"word\",\\n      \"position\" : 1\\n    }\\n  ]\\n}\\n')))),\"\\n\",t().createElement(a,null,t().createElement(s,{name:\"request\"},t().createElement(l.pre,null,t().createElement(l.code,{className:\"language-javascript\",display:\"block\"},'# nori_discard 토크나이저로 \"백두산이\" 분석\\nGET my_nori/_analyze\\n{\\n  \"tokenizer\": \"nori_discard\",\\n  \"text\": [ \"백두산이\" ]\\n}\\n'))),t().createElement(s,{name:\"response\"},t().createElement(l.pre,null,t().createElement(l.code,{className:\"language-javascript\",display:\"block\"},'# nori_discard 토크나이저로 \"백두산이\" 분석 결과\\n{\\n  \"tokens\" : [\\n    {\\n      \"token\" : \"백두\",\\n      \"start_offset\" : 0,\\n      \"end_offset\" : 2,\\n      \"type\" : \"word\",\\n      \"position\" : 0\\n    },\\n    {\\n      \"token\" : \"산\",\\n      \"start_offset\" : 2,\\n      \"end_offset\" : 3,\\n      \"type\" : \"word\",\\n      \"position\" : 1\\n    },\\n    {\\n      \"token\" : \"이\",\\n      \"start_offset\" : 3,\\n      \"end_offset\" : 4,\\n      \"type\" : \"word\",\\n      \"position\" : 2\\n    }\\n  ]\\n}\\n')))),\"\\n\",t().createElement(a,null,t().createElement(s,{name:\"request\"},t().createElement(l.pre,null,t().createElement(l.code,{className:\"language-javascript\",display:\"block\"},'# nori_mixed 토크나이저로 \"백두산이\" 분석\\nGET my_nori/_analyze\\n{\\n  \"tokenizer\": \"nori_mixed\",\\n  \"text\": [ \"백두산이\" ]\\n}\\n'))),t().createElement(s,{name:\"response\"},t().createElement(l.pre,null,t().createElement(l.code,{className:\"language-javascript\",display:\"block\"},'# nori_mixed 토크나이저로 \"백두산이\" 분석 결과\\n{\\n  \"tokens\" : [\\n    {\\n      \"token\" : \"백두산\",\\n      \"start_offset\" : 0,\\n      \"end_offset\" : 3,\\n      \"type\" : \"word\",\\n      \"position\" : 0,\\n      \"positionLength\" : 2\\n    },\\n    {\\n      \"token\" : \"백두\",\\n      \"start_offset\" : 0,\\n      \"end_offset\" : 2,\\n      \"type\" : \"word\",\\n      \"position\" : 0\\n    },\\n    {\\n      \"token\" : \"산\",\\n      \"start_offset\" : 2,\\n      \"end_offset\" : 3,\\n      \"type\" : \"word\",\\n      \"position\" : 1\\n    },\\n    {\\n      \"token\" : \"이\",\\n      \"start_offset\" : 3,\\n      \"end_offset\" : 4,\\n      \"type\" : \"word\",\\n      \"position\" : 2\\n    }\\n  ]\\n}\\n')))),\"\\n\",t().createElement(l.p,null,\"각 설정에 따라 어근을 분리하거나 분리하지 않거나 모두 저장하는 것을 확인할 수 있습니다. \",t().createElement(l.strong,null,\"decompound_mode\"),\" 의 디폴트 값은 \",t().createElement(l.strong,null,\"discard\"),\" 입니다.\"),\"\\n\",t().createElement(l.h3,{id:\"nori_part_of_speech-와-품사-정보\"},\"nori_part_of_speech 와 품사 정보\"),\"\\n\",t().createElement(l.p,null,\"한글 검색에서는 보통 명사, 동명사 정도만을 검색하고 조사, 형용사 등은 제거하는 것이 바람직합니다. \",t().createElement(l.strong,null,\"nori_part_of_speech\"),\" 토큰 필터를 이용해서 제거할 \",t().createElement(l.strong,null,\"품사(POS - Part Of Speech)\"),\" 정보의 지정이 가능하며, 옵션 \",t().createElement(l.strong,null,\"stoptags\"),\" 값에 배열로 제외할 품사 코드를 나열해서 입력해서 사용합니다. 다음은 품사 코드의 일부 정보들입니다.\"),\"\\n\",t().createElement(l.p,null,t().createElement(l.img,{src:\"/L1VzZXJzL2tpbWptaW4vZ2l0L2RvY3Mta3IvZXNndWlkZTc/assets/06-07_kokoma_postag.png\",alt:\"(출처 : 꼬꼬마 한국어 형태소 분석기 - http://kkma.snu.ac.kr/documents/?doc=postag)\"})),\"\\n\",t().createElement(l.p,null,\"이 외의 품사 코드는 출처에 명시된 정보 페이지에서 찾을 수 있습니다. \",t().createElement(l.strong,null,\"stoptags\"),\"의 디폴트 값은 다음과 같습니다.\"),\"\\n\",t().createElement(l.pre,null,t().createElement(l.code,{className:\"language-javascript\",display:\"block\"},'\"stoptags\": [\\n  \"E\", \"IC\", \"J\", \"MAG\", \"MAJ\",\\n  \"MM\", \"SP\", \"SSC\", \"SSO\", \"SC\",\\n  \"SE\", \"XPN\", \"XSA\", \"XSN\", \"XSV\",\\n  \"UNA\", \"NA\", \"VSV\"\\n]\\n')),\"\\n\",t().createElement(l.p,null,\"다음은 \",t().createElement(l.strong,null,\"my_pos\"),\" 인덱스에 **수사(NR)**를 제거하도록 \",t().createElement(l.strong,null,\"stoptags\"),'를 지정하고 문장 **\"다섯아이가\"**를 분석한 예제입니다.'),\"\\n\",t().createElement(l.pre,null,t().createElement(l.code,{className:\"language-javascript\",display:\"block\"},'# my_pos 인덱스에 수사(NR)을 제거하는 my_pos_f 토큰필터 지정\\nPUT my_pos\\n{\\n  \"settings\": {\\n    \"index\": {\\n      \"analysis\": {\\n        \"filter\": {\\n          \"my_pos_f\": {\\n            \"type\": \"nori_part_of_speech\",\\n            \"stoptags\": [\\n              \"NR\"\\n            ]\\n          }\\n        }\\n      }\\n    }\\n  }\\n}\\n')),\"\\n\",t().createElement(a,null,t().createElement(s,{name:\"request\"},t().createElement(l.pre,null,t().createElement(l.code,{className:\"language-javascript\",display:\"block\"},'# my_pos_f 토큰필터로 \"다섯아이가\" 분석\\nGET my_pos/_analyze\\n{\\n  \"tokenizer\": \"nori_tokenizer\",\\n  \"filter\": [\\n    \"my_pos_f\"\\n  ],\\n  \"text\": \"다섯아이가\"\\n}\\n'))),t().createElement(s,{name:\"response\"},t().createElement(l.pre,null,t().createElement(l.code,{className:\"language-javascript\",display:\"block\"},'# my_pos_f 토큰필터로 \"다섯아이가\" 분석 결과\\n{\\n  \"tokens\" : [\\n    {\\n      \"token\" : \"아이\",\\n      \"start_offset\" : 2,\\n      \"end_offset\" : 4,\\n      \"type\" : \"word\",\\n      \"position\" : 1\\n    },\\n    {\\n      \"token\" : \"가\",\\n      \"start_offset\" : 4,\\n      \"end_offset\" : 5,\\n      \"type\" : \"word\",\\n      \"position\" : 2\\n    }\\n  ]\\n}\\n')))),\"\\n\",t().createElement(l.p,null,\"본래 \",t().createElement(l.strong,null,'\"다섯\"+\"아이\"+\"가\"'),' 로 분석되어야 할 문장에서 수사인 **\"다섯\"**이 제거 된 것을 확인할 수 있습니다.'),\"\\n\",t().createElement(l.h3,{id:\"nori_readingform\"},\"nori_readingform\"),\"\\n\",t().createElement(l.p,null,t().createElement(l.strong,null,\"nori_readingform\"),' 토큰 필터는 한자로 된 단어를 한글로 바꾸어 저장을 합니다. 별도의 옵션 없이 토큰필터로 명시하면 바로 적용이 가능합니다. 다음은 \"春夏秋冬\"(춘하추동)을 nori_readingform 토큰 필터를 사용해서 한글로 변형하는 예제입니다.'),\"\\n\",t().createElement(a,null,t().createElement(s,{name:\"request\"},t().createElement(l.pre,null,t().createElement(l.code,{className:\"language-javascript\",display:\"block\"},'# nori_readingform 토큰필터로 \"春夏秋冬\"(춘하추동) 분석\\nGET _analyze\\n{\\n  \"tokenizer\": \"nori_tokenizer\",\\n  \"filter\": [\\n    \"nori_readingform\"\\n  ],\\n  \"text\": \"春夏秋冬\"\\n}\\n'))),t().createElement(s,{name:\"response\"},t().createElement(l.pre,null,t().createElement(l.code,{className:\"language-javascript\",display:\"block\"},'# nori_readingform 토큰필터로 \"春夏秋冬\"(춘하추동) 분석 결과\\n{\\n  \"tokens\" : [\\n    {\\n      \"token\" : \"춘하추동\",\\n      \"start_offset\" : 0,\\n      \"end_offset\" : 4,\\n      \"type\" : \"word\",\\n      \"position\" : 0\\n    }\\n  ]\\n}\\n')))),\"\\n\",t().createElement(l.h3,{id:\"explain--true-옵션\"},\"explain : true 옵션\"),\"\\n\",t().createElement(l.p,null,\"query 또는 _analuze API 에서 \",t().createElement(l.code,{display:\"inline\"},'\"explain\": true'),\" 옵션을 추가하면 분석된 한글 형태소들의 품사 정보를 같이 볼 수 있습니다. \",t().createElement(l.strong,null,\"explain\"),\" 옵션은 nori 외에도 대부분의 애널라이저나 쿼리에서 사용하면 확장된 정보를 보여줍니다. 다음은 \",t().createElement(l.strong,null,'\"동해물과 백두산이\"'),\" 문장을 분석하면서 explain 옵션을 추가하여 상세 정보를 본 예제입니다.\"),\"\\n\",t().createElement(a,null,t().createElement(s,{name:\"request\"},t().createElement(l.pre,null,t().createElement(l.code,{className:\"language-javascript\",display:\"block\"},'# \"explain\": true 옵션을 이용해서 분석 정보 표시\\nGET _analyze\\n{\\n  \"tokenizer\": \"nori_tokenizer\",\\n  \"text\": \"동해물과 백두산이\",\\n  \"explain\": true\\n}\\n'))),t().createElement(s,{name:\"response\"},t().createElement(l.pre,null,t().createElement(l.code,{className:\"language-javascript\",display:\"block\"},'# \"explain\": true 옵션을 이용해서 분석 정보 표시 결과\\n{\\n  \"detail\" : {\\n    \"custom_analyzer\" : true,\\n    \"charfilters\" : [ ],\\n    \"tokenizer\" : {\\n      \"name\" : \"nori_tokenizer\",\\n      \"tokens\" : [\\n        {\\n          \"token\" : \"동해\",\\n          \"start_offset\" : 0,\\n          \"end_offset\" : 2,\\n          \"type\" : \"word\",\\n          \"position\" : 0,\\n          \"bytes\" : \"[eb 8f 99 ed 95 b4]\",\\n          \"leftPOS\" : \"NNP(Proper Noun)\",\\n          \"morphemes\" : null,\\n          \"posType\" : \"MORPHEME\",\\n          \"positionLength\" : 1,\\n          \"reading\" : null,\\n          \"rightPOS\" : \"NNP(Proper Noun)\",\\n          \"termFrequency\" : 1\\n        },\\n        {\\n          \"token\" : \"물\",\\n          \"start_offset\" : 2,\\n          \"end_offset\" : 3,\\n          \"type\" : \"word\",\\n          \"position\" : 1,\\n          \"bytes\" : \"[eb ac bc]\",\\n          \"leftPOS\" : \"NNG(General Noun)\",\\n          \"morphemes\" : null,\\n          \"posType\" : \"MORPHEME\",\\n          \"positionLength\" : 1,\\n          \"reading\" : null,\\n          \"rightPOS\" : \"NNG(General Noun)\",\\n          \"termFrequency\" : 1\\n        },\\n        {\\n          \"token\" : \"과\",\\n          \"start_offset\" : 3,\\n          \"end_offset\" : 4,\\n          \"type\" : \"word\",\\n          \"position\" : 2,\\n          \"bytes\" : \"[ea b3 bc]\",\\n          \"leftPOS\" : \"J(Ending Particle)\",\\n          \"morphemes\" : null,\\n          \"posType\" : \"MORPHEME\",\\n          \"positionLength\" : 1,\\n          \"reading\" : null,\\n          \"rightPOS\" : \"J(Ending Particle)\",\\n          \"termFrequency\" : 1\\n        },\\n        {\\n          \"token\" : \"백두\",\\n          \"start_offset\" : 5,\\n          \"end_offset\" : 7,\\n          \"type\" : \"word\",\\n          \"position\" : 3,\\n          \"bytes\" : \"[eb b0 b1 eb 91 90]\",\\n          \"leftPOS\" : \"NNG(General Noun)\",\\n          \"morphemes\" : null,\\n          \"posType\" : \"MORPHEME\",\\n          \"positionLength\" : 1,\\n          \"reading\" : null,\\n          \"rightPOS\" : \"NNG(General Noun)\",\\n          \"termFrequency\" : 1\\n        },\\n        {\\n          \"token\" : \"산\",\\n          \"start_offset\" : 7,\\n          \"end_offset\" : 8,\\n          \"type\" : \"word\",\\n          \"position\" : 4,\\n          \"bytes\" : \"[ec 82 b0]\",\\n          \"leftPOS\" : \"NNG(General Noun)\",\\n          \"morphemes\" : null,\\n          \"posType\" : \"MORPHEME\",\\n          \"positionLength\" : 1,\\n          \"reading\" : null,\\n          \"rightPOS\" : \"NNG(General Noun)\",\\n          \"termFrequency\" : 1\\n        },\\n        {\\n          \"token\" : \"이\",\\n          \"start_offset\" : 8,\\n          \"end_offset\" : 9,\\n          \"type\" : \"word\",\\n          \"position\" : 5,\\n          \"bytes\" : \"[ec 9d b4]\",\\n          \"leftPOS\" : \"J(Ending Particle)\",\\n          \"morphemes\" : null,\\n          \"posType\" : \"MORPHEME\",\\n          \"positionLength\" : 1,\\n          \"reading\" : null,\\n          \"rightPOS\" : \"J(Ending Particle)\",\\n          \"termFrequency\" : 1\\n        }\\n      ]\\n    },\\n    \"tokenfilters\" : [ ]\\n  }\\n}\\n')))),\"\\n\",t().createElement(l.p,null,\"이번 장에서는 elasticsearch가 데이터를 저장하는 색인 과정에서 처리하는 수많은 작업들에 대해 알아보았습니다. 텍스트 분석 및 텀의 개념과, 데이터 분석에 사용되는 애널라이저, 토크나이저, 토큰 필터, 캐릭터 필터 도구들에 대해 학습을 했습니다. 이런 텍스트 데이터 처리 과정을 통해 Elasticsearch는 빠른 풀 텍스트 검색 기능을 제공하며 다양한 방법으로 데이터를 다룰 수 있도록 합니다.\"),\"\\n\",t().createElement(l.p,null,\"다음 장에서는 인덱스의 세팅 및 매핑 설정 방법과 다양한 형태의 필드들에 대해 알아보도록 하겠습니다.\"))}};function o(e,n){throw new Error(\"Expected \"+(n?\"component\":\"object\")+\" `\"+e+\"` to be defined: you likely forgot to import, pass, or provide it.\")}})(),a})()));","frontmatter":{"id":"esG7-06-07-stemming","slug":"/krEsguide7/esG7-06-07-stemming","title":"6.7 형태소 분석 - Stemming","description":"모든 문서에 대한 저작권은 Elastic 과 김종민(kimjmin@gmail.com) 에게 있으며 허가되지 않은 무단 복제나 배포 및 출판을 금지합니다. 본 문서의 내용 및 포함된 자료를 인용하고자 하는 경우 출처를 명시하고 게재된 주소를 김종민(kimjmin@gmail.com)에게 알려주시기 바랍니다.","date":"2022-01-25T00:00:00.000Z","tags":["indexing","text","analysis","token","filter","stemming"],"link":"file:///Users/kimjmin/git/docs-kr/esguide7","linkPath":"06-text-analysis/06-07-stemming.mdx"},"missionId":"krEsguide7"},"__N_SSG":true},"page":"/[...slug]","query":{"slug":["krEsguide7","esG7-06-07-stemming"]},"buildId":"K8YMqTQBQVe0pMujUHgY0","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>