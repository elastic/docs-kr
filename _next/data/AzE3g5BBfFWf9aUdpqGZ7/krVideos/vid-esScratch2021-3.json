{"pageProps":{"bundle":"!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t(require(\"mdxJsReact\"),require(\"React\")):\"function\"==typeof define&&define.amd?define([\"mdxJsReact\",\"React\"],t):\"object\"==typeof exports?exports.MDXContent=t(require(\"mdxJsReact\"),require(\"React\")):e.MDXContent=t(e.mdxJsReact,e.React)}(this,((e,t)=>(()=>{\"use strict\";var l={24:e=>{e.exports=t},825:t=>{t.exports=e}},n={};function a(e){var t=n[e];if(void 0!==t)return t.exports;var r=n[e]={exports:{}};return l[e](r,r.exports,a),r.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var l in t)a.o(t,l)&&!a.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})};var r={};return(()=>{a.r(r),a.d(r,{default:()=>n});var e=a(825),t=a(24),l=a.n(t);const n=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Object.assign({},(0,e.useMDXComponents)(),t.components),a=n.wrapper;return a?l().createElement(a,t,l().createElement(r)):r();function r(){var n=Object.assign({table:\"table\",thead:\"thead\",tr:\"tr\",th:\"th\",tbody:\"tbody\",td:\"td\",a:\"a\",code:\"code\",p:\"p\",h3:\"h3\",ul:\"ul\",li:\"li\",span:\"span\"},(0,e.useMDXComponents)(),t.components),a=n.DocBadge,r=n.DocVideo;return a||c(\"DocBadge\",!0),r||c(\"DocVideo\",!0),l().createElement(l().Fragment,null,l().createElement(n.table,null,l().createElement(n.thead,null,l().createElement(n.tr,null,l().createElement(n.th,null,\"녹화일\"),l().createElement(n.th,null,\"발표자\"),l().createElement(n.th,null,\"사용된 제품 및 버전\"))),l().createElement(n.tbody,null,l().createElement(n.tr,null,l().createElement(n.td,null,\"2021-03-29\"),l().createElement(n.td,null,l().createElement(n.a,{href:\"https://github.com/kimjmin/\"},\"김종민\"),\"(\",l().createElement(n.a,{href:\"mailto:jongmin.kim@elastic.co\"},\"jongmin.kim@elastic.co\"),\")\"),l().createElement(n.td,null,l().createElement(a,{template:\"elasticsearch\"}),\" \",l().createElement(a,{template:\"kibana\"}),\" \",l().createElement(n.code,{display:\"inline\"},\"7.11\"))))),\"\\n\",l().createElement(n.p,null,\"학습 자료 링크 : \",l().createElement(n.a,{href:\"https://ela.st/es-resource-kr\"},\"https://ela.st/es-resource-kr\")),\"\\n\",l().createElement(n.h3,{id:\"3-1-logstash-설치-및-실행\"},\"3-1 logstash 설치 및 실행\"),\"\\n\",l().createElement(r,{id:\"ocomvFYJ7As\",source:\"youtube\",title:\"logstash 설치 및 실행\"}),\"\\n\",l().createElement(n.ul,null,\"\\n\",l().createElement(n.li,null,\"Logstash 소개\",\"\\n\",l().createElement(n.ul,null,\"\\n\",l().createElement(n.li,null,\"logstash 파이프라인 구조 설명\"),\"\\n\",l().createElement(n.li,null,\"Support Matrix 페이지에서 설치 가능한 환경 확인\"),\"\\n\"),\"\\n\"),\"\\n\",l().createElement(n.li,null,\"Logstash 설치\",\"\\n\",l().createElement(n.ul,null,\"\\n\",l().createElement(n.li,null,\"logstash 다운로드\"),\"\\n\",l().createElement(n.li,null,\"logstash 실행 가능 옵션 설명 : -e | -f\"),\"\\n\"),\"\\n\"),\"\\n\",l().createElement(n.li,null,\"Logstash 실행\",\"\\n\",l().createElement(n.ul,null,\"\\n\",l().createElement(n.li,null,\"input { } output { } 입/출력 파이프라인 설정\"),\"\\n\",l().createElement(n.li,null,\"입력 : stdin 표준 입력, tcp 네트워크 입력\"),\"\\n\",l().createElement(n.li,null,\"출력 : stdout 표준 출력, elasticsearch 출력\"),\"\\n\",l().createElement(n.li,null,\"elasticsearch 에 데이터 입력 확인\"),\"\\n\"),\"\\n\"),\"\\n\"),\"\\n\",l().createElement(n.h3,{id:\"3-2-logstash-filter-설정\"},\"3-2 Logstash filter 설정\"),\"\\n\",l().createElement(r,{id:\"E3CSlX--6Cc\",source:\"youtube\",title:\"Logstash filter 설정\"}),\"\\n\",l().createElement(n.ul,null,\"\\n\",l().createElement(n.li,null,\"Config 변경시 logstash 자동 재시작 설정\",\"\\n\",l().createElement(n.ul,null,\"\\n\",l().createElement(n.li,null,\"logstash.yml 에서 config.reload.automatic: true\"),\"\\n\"),\"\\n\"),\"\\n\",l().createElement(n.li,null,\"아파치 웹 로그 수집을 위한 filter 설정\",\"\\n\",l().createElement(n.ul,null,\"\\n\",l().createElement(n.li,null,\"grok : 메시지 스트림 파싱\"),\"\\n\",l().createElement(n.li,null,\"geoip : IP 주소에서 위치 및 지역정보 확장\"),\"\\n\",l().createElement(n.li,null,\"useragent : 클라이언트 OS 및 브라우저 정보 확장\"),\"\\n\",l().createElement(n.li,null,\"mutate : 불필요한 필드 삭제 및 타입 변환\"),\"\\n\",l().createElement(n.li,null,\"date : 문자열로 된 날짜를 date 타입으로 변환\"),\"\\n\"),\"\\n\"),\"\\n\"),\"\\n\",l().createElement(n.h3,{id:\"3-3-filebeat-️-logstash-️-elasticsearch\"},\"3-3 Filebeat \",l().createElement(n.span,{role:\"img\",\"aria-label\":\"right arrow\"},\"➡️\"),\" Logstash \",l().createElement(n.span,{role:\"img\",\"aria-label\":\"right arrow\"},\"➡️\"),\" Elasticsearch\"),\"\\n\",l().createElement(r,{id:\"NeKnHoawKDI\",source:\"youtube\",title:\"Filebeat Logstash Elasticsearch\"}),\"\\n\",l().createElement(n.ul,null,\"\\n\",l().createElement(n.li,null,\"Filebeat 설치 및 실행\",\"\\n\",l().createElement(n.ul,null,\"\\n\",l().createElement(n.li,null,\"filebeat.yml 에서 파일 입력 설정\"),\"\\n\",l().createElement(n.li,null,\"파일을 다시 읽어들이기 위한 data 플래그 삭제\"),\"\\n\"),\"\\n\"),\"\\n\",l().createElement(n.li,null,\"Filebeat \",l().createElement(n.span,{role:\"img\",\"aria-label\":\"right arrow\"},\"➡️\"),\" Logstash 파이프라인\",\"\\n\",l().createElement(n.ul,null,\"\\n\",l().createElement(n.li,null,\"filebeat.yml 에서 output.logstash 설정\"),\"\\n\",l().createElement(n.li,null,\"Logstash 에서 beats 입력 설정\"),\"\\n\"),\"\\n\"),\"\\n\",l().createElement(n.li,null,\"Logstash output 설정\",\"\\n\",l().createElement(n.ul,null,\"\\n\",l().createElement(n.li,null,\"codec 설정으로 데이터 전송 과정 쉽게 확인하기\"),\"\\n\",l().createElement(n.li,null,'index : \"%{+yyyy.MM.dd}\" 날짜 별로 인덱스 지정'),\"\\n\"),\"\\n\"),\"\\n\"),\"\\n\",l().createElement(n.h3,{id:\"3-4-1-인덱스-재색인--필드-매핑-개선\"},\"3-4-1 인덱스 재색인 : 필드 매핑 개선\"),\"\\n\",l().createElement(r,{id:\"R0Tq34Vqt8s\",source:\"youtube\",title:\"인덱스 재색인 : 필드 매핑 개선\"}),\"\\n\",l().createElement(n.ul,null,\"\\n\",l().createElement(n.li,null,\"apachelog-{yyyy.MM.dd} 인덱스들\",\"\\n\",l().createElement(n.ul,null,\"\\n\",l().createElement(n.li,null,\"_mapping 으로 자동 생성된 필드들의 정보 확인\"),\"\\n\",l().createElement(n.li,null,\"적합하지 않은 타입의 필드들을 개선한 새 인덱스 생성\"),\"\\n\"),\"\\n\"),\"\\n\",l().createElement(n.li,null,'_reindex API 를 이용하여 새 인덱스로 재색인\\nPOST _reindex {\\nsource : { index : \"{source index}\" },\\ndest : { index : \"{target index}\" }\\n}'),\"\\n\"),\"\\n\",l().createElement(n.h3,{id:\"3-4-2-인덱스-재색인--인덱스-템플릿과-스크립트-사용\"},\"3-4-2 인덱스 재색인 : 인덱스 템플릿과 스크립트 사용\"),\"\\n\",l().createElement(r,{id:\"QHWFiImlRyY\",source:\"youtube\",title:\"인덱스 재색인 : 인덱스 템플릿과 스크립트 사용\"}),\"\\n\",l().createElement(n.ul,null,\"\\n\",l().createElement(n.li,null,\"인덱스 템플릿\",\"\\n\",l().createElement(n.ul,null,\"\\n\",l().createElement(n.li,null,\"인덱스 템플릿 생성 : PUT _index_template/{템플릿명}\"),\"\\n\",l().createElement(n.li,null,'적용될 인덱스 패턴 지정 : index_patterns : \"{인덱스명}-*\"'),\"\\n\"),\"\\n\"),\"\\n\",l().createElement(n.li,null,\"_reindex API 에서 스크립트 사용\",\"\\n\",l().createElement(n.ul,null,\"\\n\",l().createElement(n.li,null,\"painless 스크립트를 사용해서 인덱스명 지정\"),\"\\n\",l().createElement(n.li,null,\"ctx._index = ctx._index.substring(...)\"),\"\\n\"),\"\\n\"),\"\\n\",l().createElement(n.li,null,\"_reindex API 에서 ingest pipeline 사용\",\"\\n\",l().createElement(n.ul,null,\"\\n\",l().createElement(n.li,null,\"remove 프로세서를 이용하여 불필요한 필드를 삭제하는 ingest pipeline 생성\"),\"\\n\",l().createElement(n.li,null,\"재색인 시 생성한 ingest pipeline 적용하여 필드 삭제\"),\"\\n\"),\"\\n\"),\"\\n\"))}};function c(e,t){throw new Error(\"Expected \"+(t?\"component\":\"object\")+\" `\"+e+\"` to be defined: you likely forgot to import, pass, or provide it.\")}})(),r})()));","frontmatter":{"id":"vid-esScratch2021-3","slug":"/krVideos/vid-esScratch2021-3","title":"데이터 파이프라인 구성","description":"Logstash, Beats 를 이용해서 데이터 수집 파이프라인의 구성과 데이터 정제 방법에 대해 설명합니다.","image":"images/title_esScratch2021-3.png","tags":["videos","esScratch"],"related":["esScratch2021-0","esScratch2021-1","esScratch2021-2","esScratch2021-4"],"link":"https://github.com/elastic/docs-kr/videos/blob/main","linkPath":"2021-esScratch-3.mdx"},"missionId":"krVideos"},"__N_SSG":true}