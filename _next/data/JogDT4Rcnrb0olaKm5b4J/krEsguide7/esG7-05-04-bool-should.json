{"pageProps":{"bundle":"!function(e,n){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=n(require(\"mdxJsReact\"),require(\"React\")):\"function\"==typeof define&&define.amd?define([\"mdxJsReact\",\"React\"],n):\"object\"==typeof exports?exports.MDXContent=n(require(\"mdxJsReact\"),require(\"React\")):e.MDXContent=n(e.mdxJsReact,e.React)}(this,((e,n)=>(()=>{\"use strict\";var t={24:e=>{e.exports=n},825:n=>{n.exports=e}},o={};function r(e){var n=o[e];if(void 0!==n)return n.exports;var l=o[e]={exports:{}};return t[e](l,l.exports,r),l.exports}r.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return r.d(n,{a:n}),n},r.d=(e,n)=>{for(var t in n)r.o(n,t)&&!r.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},r.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),r.r=e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})};var l={};return(()=>{r.r(l),r.d(l,{default:()=>o});var e=r(825),n=r(24),t=r.n(n);const o=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=Object.assign({},(0,e.useMDXComponents)(),n.components),r=o.wrapper;return r?t().createElement(r,n,t().createElement(l)):l();function l(){var o=Object.assign({p:\"p\",strong:\"strong\",pre:\"pre\",code:\"code\"},(0,e.useMDXComponents)(),n.components),r=o.DocTabs,l=o.DocTab;return l||a(\"DocTab\",!0),r||a(\"DocTabs\",!0),t().createElement(t().Fragment,null,t().createElement(o.p,null,t().createElement(o.strong,null,\"bool\"),\" 쿼리의 \",t().createElement(o.strong,null,\"should\"),\" 는 검색 점수를 조정하기 위해 사용할 수 있습니다. 먼저 match 쿼리로 \",t().createElement(o.strong,null,\"fox\"),\" 를 포함하고 있는 도큐먼트를 검색 한 결과입니다.\"),\"\\n\",t().createElement(r,null,t().createElement(l,{name:\"request\"},t().createElement(o.pre,null,t().createElement(o.code,{className:\"language-javascript\",display:\"block\"},'GET my_index/_search\\n{\\n  \"query\": {\\n    \"match\": {\\n      \"message\": \"fox\"\\n    }\\n  }\\n}\\n'))),t().createElement(l,{name:\"response\"},t().createElement(o.pre,null,t().createElement(o.code,{className:\"language-javascript\",display:\"block\"},'{\\n  \"took\" : 1,\\n  \"timed_out\" : false,\\n  \"_shards\" : {\\n    \"total\" : 1,\\n    \"successful\" : 1,\\n    \"skipped\" : 0,\\n    \"failed\" : 0\\n  },\\n  \"hits\" : {\\n    \"total\" : {\\n      \"value\" : 4,\\n      \"relation\" : \"eq\"\\n    },\\n    \"max_score\" : 0.32951736,\\n    \"hits\" : [\\n      {\\n        \"_index\" : \"my_index\",\\n        \"_type\" : \"_doc\",\\n        \"_id\" : \"1\",\\n        \"_score\" : 0.32951736,\\n        \"_source\" : {\\n          \"message\" : \"The quick brown fox\"\\n        }\\n      },\\n      {\\n        \"_index\" : \"my_index\",\\n        \"_type\" : \"_doc\",\\n        \"_id\" : \"4\",\\n        \"_score\" : 0.32951736,\\n        \"_source\" : {\\n          \"message\" : \"Brown fox brown dog\"\\n        }\\n      },\\n      {\\n        \"_index\" : \"my_index\",\\n        \"_type\" : \"_doc\",\\n        \"_id\" : \"2\",\\n        \"_score\" : 0.23470737,\\n        \"_source\" : {\\n          \"message\" : \"The quick brown fox jumps over the lazy dog\"\\n        }\\n      },\\n      {\\n        \"_index\" : \"my_index\",\\n        \"_type\" : \"_doc\",\\n        \"_id\" : \"3\",\\n        \"_score\" : 0.23470737,\\n        \"_source\" : {\\n          \"message\" : \"The quick brown fox jumps over the quick dog\"\\n        }\\n      }\\n    ]\\n  }\\n}\\n')))),\"\\n\",t().createElement(o.p,null,\"이 결과들 중 lazy 가 포함된 결과에 가중치를 줘서 상위로 올리고 싶으면 다음과 같이 \",t().createElement(o.strong,null,\"should\"),\" 안에 \",t().createElement(o.strong,null,\"lazy\"),\" 를 찾는 검색을 추가합니다.\"),\"\\n\",t().createElement(r,null,t().createElement(l,{name:\"request\"},t().createElement(o.pre,null,t().createElement(o.code,{className:\"language-javascript\",display:\"block\"},'GET my_index/_search\\n{\\n  \"query\": {\\n    \"bool\": {\\n      \"must\": [\\n        {\\n          \"match\": {\\n            \"message\": \"fox\"\\n          }\\n        }\\n      ],\\n      \"should\": [\\n        {\\n          \"match\": {\\n            \"message\": \"lazy\"\\n          }\\n        }\\n      ]\\n    }\\n  }\\n}\\n'))),t().createElement(l,{name:\"response\"},t().createElement(o.pre,null,t().createElement(o.code,{className:\"language-javascript\",display:\"block\"},'{\\n  \"took\" : 1,\\n  \"timed_out\" : false,\\n  \"_shards\" : {\\n    \"total\" : 1,\\n    \"successful\" : 1,\\n    \"skipped\" : 0,\\n    \"failed\" : 0\\n  },\\n  \"hits\" : {\\n    \"total\" : {\\n      \"value\" : 4,\\n      \"relation\" : \"eq\"\\n    },\\n    \"max_score\" : 0.9489644,\\n    \"hits\" : [\\n      {\\n        \"_index\" : \"my_index\",\\n        \"_type\" : \"_doc\",\\n        \"_id\" : \"2\",\\n        \"_score\" : 0.9489644,\\n        \"_source\" : {\\n          \"message\" : \"The quick brown fox jumps over the lazy dog\"\\n        }\\n      },\\n      {\\n        \"_index\" : \"my_index\",\\n        \"_type\" : \"_doc\",\\n        \"_id\" : \"1\",\\n        \"_score\" : 0.32951736,\\n        \"_source\" : {\\n          \"message\" : \"The quick brown fox\"\\n        }\\n      },\\n      {\\n        \"_index\" : \"my_index\",\\n        \"_type\" : \"_doc\",\\n        \"_id\" : \"4\",\\n        \"_score\" : 0.32951736,\\n        \"_source\" : {\\n          \"message\" : \"Brown fox brown dog\"\\n        }\\n      },\\n      {\\n        \"_index\" : \"my_index\",\\n        \"_type\" : \"_doc\",\\n        \"_id\" : \"3\",\\n        \"_score\" : 0.23470737,\\n        \"_source\" : {\\n          \"message\" : \"The quick brown fox jumps over the quick dog\"\\n        }\\n      }\\n    ]\\n  }\\n}\\n')))),\"\\n\",t().createElement(o.p,null,'새로운 검색 결과에서 fox만 포함하고 있던 \"The quick brown fox\" 는 점수가 ',t().createElement(o.code,{display:\"inline\"},'\"_score\" : 0.32951736'),' 로 이전 match 쿼리와 동일하지만, lazy를 함께 포함하고 있는 \"The quick brown fox jumps over the lazy dog\" 는 점수가 ',t().createElement(o.code,{display:\"inline\"},'\"_score\" : 0.9489644'),\"로 가중되어 가장 상위에 나타납니다.\"),\"\\n\",t().createElement(o.p,null,t().createElement(o.strong,null,\"should\"),\"는 \",t().createElement(o.strong,null,\"match_phrase\"),\" 와 함께 유용하게 사용할 수 있습니다. 쇼핑몰 상품 검색 같은 사례에서는 보통 검색어로 입력된 단어가 하나라도 포함된 결과들은 모두 가져오도록 되어 있을 것입니다. 이 때 검색 결과 중에서 입력한 검색어 전체 문장이 정확히 일치하는 결과를 맨 상위에 위치시키면 다른 결과들을 누락시키지 않으면서 사용자가 정확하게 원하는 수준 높은 품질의 결과를 제공할 수 있을 것입니다.\"),\"\\n\",t().createElement(o.p,null,\"다음은 \",t().createElement(o.strong,null,\"lazy\"),\" 또는 \",t().createElement(o.strong,null,\"dog\"),\" 중 하나라 포함된 도큐먼트를 모두 검색하면서 그 중에 \",t().createElement(o.strong,null,'\"lazy dog\"'),\" 구문을 정확히 포함하는 결과들을 가장 상위로 가져옵니다. \",t().createElement(o.strong,null,\"must\"),\" 안에 \",t().createElement(o.strong,null,\"match\"),\" 쿼리로 \",t().createElement(o.strong,null,\"lazy\"),\" 또는 \",t().createElement(o.strong,null,\"dog\"),\"가 포함된 모든 도큐먼트를 검색하고 \",t().createElement(o.strong,null,\"should\"),\" 안에 \",t().createElement(o.strong,null,\"match_phrase\"),\" 쿼리를 써서 스코어 점수를 높입니다.\"),\"\\n\",t().createElement(r,null,t().createElement(l,{name:\"request\"},t().createElement(o.pre,null,t().createElement(o.code,{className:\"language-javascript\",display:\"block\"},'GET my_index/_search\\n{\\n  \"query\": {\\n    \"bool\": {\\n      \"must\": [\\n        {\\n          \"match\": {\\n            \"message\": {\\n              \"query\": \"lazy dog\"\\n            }\\n          }\\n        }\\n      ],\\n      \"should\": [\\n        {\\n          \"match_phrase\": {\\n            \"message\": \"lazy dog\"\\n          }\\n        }\\n      ]\\n    }\\n  }\\n}\\n'))),t().createElement(l,{name:\"response\"},t().createElement(o.pre,null,t().createElement(o.code,{className:\"language-javascript\",display:\"block\"},'{\\n  \"took\" : 3,\\n  \"timed_out\" : false,\\n  \"_shards\" : {\\n    \"total\" : 1,\\n    \"successful\" : 1,\\n    \"skipped\" : 0,\\n    \"failed\" : 0\\n  },\\n  \"hits\" : {\\n    \"total\" : {\\n      \"value\" : 4,\\n      \"relation\" : \"eq\"\\n    },\\n    \"max_score\" : 1.897929,\\n    \"hits\" : [\\n      {\\n        \"_index\" : \"my_index\",\\n        \"_type\" : \"_doc\",\\n        \"_id\" : \"2\",\\n        \"_score\" : 1.897929,\\n        \"_source\" : {\\n          \"message\" : \"The quick brown fox jumps over the lazy dog\"\\n        }\\n      },\\n      {\\n        \"_index\" : \"my_index\",\\n        \"_type\" : \"_doc\",\\n        \"_id\" : \"5\",\\n        \"_score\" : 1.449395,\\n        \"_source\" : {\\n          \"message\" : \"Lazy jumping dog\"\\n        }\\n      },\\n      {\\n        \"_index\" : \"my_index\",\\n        \"_type\" : \"_doc\",\\n        \"_id\" : \"4\",\\n        \"_score\" : 0.32951736,\\n        \"_source\" : {\\n          \"message\" : \"Brown fox brown dog\"\\n        }\\n      },\\n      {\\n        \"_index\" : \"my_index\",\\n        \"_type\" : \"_doc\",\\n        \"_id\" : \"3\",\\n        \"_score\" : 0.23470737,\\n        \"_source\" : {\\n          \"message\" : \"The quick brown fox jumps over the quick dog\"\\n        }\\n      }\\n    ]\\n  }\\n}\\n')))),\"\\n\",t().createElement(o.p,null,\"이렇게 \",t().createElement(o.strong,null,\"should\"),\"와 \",t().createElement(o.strong,null,\"match_phrase\"),\"를 응용하면 쇼핑몰에서 \",t().createElement(o.strong,null,'\"스키 장갑\"'),\" 같은 단어로 검색했을 때 스키 용품들과 각종 장갑들을 모두 가져오면서 그 중 스키 장갑을 가장 상위에 표시할 수 있습니다. \",t().createElement(o.code,{display:\"inline\"},\"slop:1\"),'을 이용하면 \"스키 보드 장갑\", \"스키 벙어리 장갑\" 같이 스키와 장갑 사이에 다른 값이 들어간 결과에도 가중치를 부여할 수 있습니다.'))}};function a(e,n){throw new Error(\"Expected \"+(n?\"component\":\"object\")+\" `\"+e+\"` to be defined: you likely forgot to import, pass, or provide it.\")}})(),l})()));","frontmatter":{"id":"esG7-05-04-bool-should","slug":"/krEsguide7/esG7-05-04-bool-should","title":"5.4 bool : sould","description":"모든 문서에 대한 저작권은 Elastic 과 김종민(kimjmin@gmail.com) 에게 있으며 허가되지 않은 무단 복제나 배포 및 출판을 금지합니다. 본 문서의 내용 및 포함된 자료를 인용하고자 하는 경우 출처를 명시하고 게재된 주소를 김종민(kimjmin@gmail.com)에게 알려주시기 바랍니다.","date":"2022-01-25T00:00:00.000Z","tags":["query","bool","should"],"link":"file:///Users/kimjmin/git/docs-kr/esguide7","linkPath":"05-search/05-04-bool-should.mdx"},"missionId":"krEsguide7"},"__N_SSG":true}